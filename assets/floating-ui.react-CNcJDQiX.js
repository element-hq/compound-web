import{r as a,V as Ut}from"./iframe-WJMJEPOv.js";import{i as Cn,a as Q,o as Tn,f as Sn,s as In,b as Mn,l as Ln,g as Ce,c as j,d as fe,e as On,h as ue,j as he,k as wt,m as ie,r as Xt,n as Ve,p as pt,q as Le,t as ye,u as Fn,v as Yt,w as An,x as Te,y as lt,z as Ae,A as ht,B as Ue,C as Ne,D as bt,E as Pn}from"./floating-ui.core-BbbQpTXO.js";import{j as Y}from"./jsx-runtime-D_zvdyIk.js";import{r as zt}from"./index-CSMiXfSj.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Dn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],je=Dn.join(","),Zt=typeof Element>"u",Oe=Zt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,He=!Zt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},qe=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},kn=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Jt=function(t,n,r){if(qe(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(je));return n&&Oe.call(t,je)&&o.unshift(t),o=o.filter(r),o},Qt=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!qe(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),l=u.length?u:s.children,c=e(l,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:s,candidates:c})}else{var d=Oe.call(s,je);d&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var m=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),b=!qe(m,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(m&&b){var f=e(m===!0?s.children:m.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:s,candidates:f})}else i.unshift.apply(i,s.children)}}return o},en=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},tn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||kn(t))&&!en(t)?0:t.tabIndex},Nn=function(t,n){var r=tn(t);return r<0&&n&&!en(t)?0:r},$n=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},nn=function(t){return t.tagName==="INPUT"},Wn=function(t){return nn(t)&&t.type==="hidden"},Bn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},_n=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Vn=function(t){if(!t.name)return!0;var n=t.form||He(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=_n(o,t.form);return!i||i===t},jn=function(t){return nn(t)&&t.type==="radio"},Hn=function(t){return jn(t)&&!Vn(t)},qn=function(t){var n,r=t&&He(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,u,l;for(i=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var c,d,m;r=He(o),o=(c=r)===null||c===void 0?void 0:c.host,i=!!((d=o)!==null&&d!==void 0&&(m=d.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return i},Ct=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Kn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Oe.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Oe.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var l=t.parentElement,c=He(t);if(l&&!l.shadowRoot&&o(l)===!0)return Ct(t);t.assignedSlot?t=t.assignedSlot:!l&&c!==t.ownerDocument?t=c.host:t=l}t=u}if(qn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ct(t);return!1},Gn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Oe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},at=function(t,n){return!(n.disabled||qe(n)||Wn(n)||Kn(n,t)||Bn(n)||Gn(n))},ft=function(t,n){return!(Hn(n)||tn(n)<0||!at(t,n))},Un=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Xn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,u=s?o.scopeParent:o,l=Nn(u,s),c=s?e(o.candidates):u;l===0?s?n.push.apply(n,c):n.push(u):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:c})}),r.sort($n).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Xe=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Qt([t],n.includeContainer,{filter:ft.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Un}):r=Jt(t,n.includeContainer,ft.bind(null,n)),Xn(r)},Yn=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Qt([t],n.includeContainer,{filter:at.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Jt(t,n.includeContainer,at.bind(null,n)),r},rn=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Oe.call(t,je)===!1?!1:ft(n,t)};function on(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function sn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function un(){return/apple/i.test(navigator.vendor)}function dt(){const e=/android/i;return e.test(on())||e.test(sn())}function zn(){return on().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function cn(){return sn().includes("jsdom/")}const Tt="data-floating-ui-focusable",Zn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ve(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Cn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ae(e){return"composedPath"in e?e.composedPath()[0]:e.target}function tt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Jn(e){return e.matches("html,body")}function J(e){return e?.ownerDocument||document}function ln(e){return Q(e)&&e.matches(Zn)}function St(e){return e?e.getAttribute("role")==="combobox"&&ln(e):!1}function Qn(e){if(!e||cn())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function gt(e){return e?e.hasAttribute(Tt)?e:e.querySelector("["+Tt+"]")||e:null}function Se(e,t,n){return n===void 0&&(n=!0),e.filter(o=>{var i;return o.parentId===t&&(!n||((i=o.context)==null?void 0:i.open))}).flatMap(o=>[o,...Se(e,o.id,n)])}function It(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i?.parentId,i&&(r=r.concat(i))}return r}function nt(e){e.preventDefault(),e.stopPropagation()}function er(e){return"nativeEvent"in e}function tr(e){return e.mozInputSource===0&&e.isTrusted?!0:dt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function nr(e){return cn()?!1:!dt()&&e.width===0&&e.height===0||dt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function mt(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}var rr=typeof document<"u",or=function(){},G=rr?a.useLayoutEffect:or;const sr={...Ut};function Re(e){const t=a.useRef(e);return G(()=>{t.current=e}),t}const ir=sr.useInsertionEffect,ur=ir||(e=>e());function ee(e){const t=a.useRef(()=>{});return ur(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Pe=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function an(e,t){const n=Xe(e,Pe()),r=n.length;if(r===0)return;const o=ve(J(e)),i=n.indexOf(o),s=i===-1?t===1?0:r-1:i+t;return n[s]}function fn(e){return an(J(e).body,1)||e}function dn(e){return an(J(e).body,-1)||e}function Fe(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function cr(e){Xe(e,Pe()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Mt(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function gn(e){const t=ie(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Q(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,u=Ve(n)!==i||Ve(r)!==s;return u&&(n=i,r=s),{width:n,height:r,$:u}}function Rt(e){return j(e)?e:e.contextElement}function Ie(e){const t=Rt(e);if(!Q(t))return ue(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=gn(t);let s=(i?Ve(n.width):n.width)/r,u=(i?Ve(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const lr=ue(0);function mn(e){const t=he(e);return!bt()||!t.visualViewport?lr:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ar(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==he(e)?!1:t}function Ee(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Rt(e);let s=ue(1);t&&(r?j(r)&&(s=Ie(r)):s=Ie(e));const u=ar(i,n,r)?mn(i):ue(0);let l=(o.left+u.x)/s.x,c=(o.top+u.y)/s.y,d=o.width/s.x,m=o.height/s.y;if(i){const b=he(i),f=r&&j(r)?he(r):r;let h=b,v=wt(h);for(;v&&r&&f!==h;){const E=Ie(v),y=v.getBoundingClientRect(),p=ie(v),R=y.left+(v.clientLeft+parseFloat(p.paddingLeft))*E.x,I=y.top+(v.clientTop+parseFloat(p.paddingTop))*E.y;l*=E.x,c*=E.y,d*=E.x,m*=E.y,l+=R,c+=I,h=he(v),v=wt(h)}}return Xt({width:d,height:m,x:l,y:c})}function Ye(e,t){const n=Ue(e).scrollLeft;return t?t.left+n:Ee(fe(e)).left+n}function vn(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ye(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function fr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=fe(r),u=t?pt(t.floating):!1;if(r===s||u&&i)return n;let l={scrollLeft:0,scrollTop:0},c=ue(1);const d=ue(0),m=Q(r);if((m||!m&&!i)&&((Ae(r)!=="body"||ht(s))&&(l=Ue(r)),Q(r))){const f=Ee(r);c=Ie(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const b=s&&!m&&!i?vn(s,l):ue(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+b.x,y:n.y*c.y-l.scrollTop*c.y+d.y+b.y}}function dr(e){return Array.from(e.getClientRects())}function gr(e){const t=fe(e),n=Ue(e),r=e.ownerDocument.body,o=Te(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Te(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Ye(e);const u=-n.scrollTop;return ie(r).direction==="rtl"&&(s+=Te(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:u}}const Lt=25;function mr(e,t){const n=he(e),r=fe(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,u=0,l=0;if(o){i=o.width,s=o.height;const d=bt();(!d||d&&t==="fixed")&&(u=o.offsetLeft,l=o.offsetTop)}const c=Ye(r);if(c<=0){const d=r.ownerDocument,m=d.body,b=getComputedStyle(m),f=d.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,h=Math.abs(r.clientWidth-m.clientWidth-f);h<=Lt&&(i-=h)}else c<=Lt&&(i+=c);return{width:i,height:s,x:u,y:l}}const vr=new Set(["absolute","fixed"]);function pr(e,t){const n=Ee(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Q(e)?Ie(e):ue(1),s=e.clientWidth*i.x,u=e.clientHeight*i.y,l=o*i.x,c=r*i.y;return{width:s,height:u,x:l,y:c}}function Ot(e,t,n){let r;if(t==="viewport")r=mr(e,n);else if(t==="document")r=gr(fe(e));else if(j(t))r=pr(t,n);else{const o=mn(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Xt(r)}function pn(e,t){const n=Le(e);return n===t||!j(n)||ye(n)?!1:ie(n).position==="fixed"||pn(n,t)}function hr(e,t){const n=t.get(e);if(n)return n;let r=Ce(e,[],!1).filter(u=>j(u)&&Ae(u)!=="body"),o=null;const i=ie(e).position==="fixed";let s=i?Le(e):e;for(;j(s)&&!ye(s);){const u=ie(s),l=Yt(s);!l&&u.position==="fixed"&&(o=null),(i?!l&&!o:!l&&u.position==="static"&&!!o&&vr.has(o.position)||ht(s)&&!l&&pn(e,s))?r=r.filter(d=>d!==s):o=u,s=Le(s)}return t.set(e,r),r}function br(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?pt(t)?[]:hr(t,this._c):[].concat(n),r],u=s[0],l=s.reduce((c,d)=>{const m=Ot(t,d,o);return c.top=Te(m.top,c.top),c.right=lt(m.right,c.right),c.bottom=lt(m.bottom,c.bottom),c.left=Te(m.left,c.left),c},Ot(t,u,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Rr(e){const{width:t,height:n}=gn(e);return{width:t,height:n}}function yr(e,t,n){const r=Q(t),o=fe(t),i=n==="fixed",s=Ee(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const l=ue(0);function c(){l.x=Ye(o)}if(r||!r&&!i)if((Ae(t)!=="body"||ht(o))&&(u=Ue(t)),r){const f=Ee(t,!0,i,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else o&&c();i&&!r&&o&&c();const d=o&&!r&&!i?vn(o,u):ue(0),m=s.left+u.scrollLeft-l.x-d.x,b=s.top+u.scrollTop-l.y-d.y;return{x:m,y:b,width:s.width,height:s.height}}function rt(e){return ie(e).position==="static"}function Ft(e,t){if(!Q(e)||ie(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fe(e)===n&&(n=n.ownerDocument.body),n}function hn(e,t){const n=he(e);if(pt(e))return n;if(!Q(e)){let o=Le(e);for(;o&&!ye(o);){if(j(o)&&!rt(o))return o;o=Le(o)}return n}let r=Ft(e,t);for(;r&&Fn(r)&&rt(r);)r=Ft(r,t);return r&&ye(r)&&rt(r)&&!Yt(r)?n:r||An(e)||n}const Er=async function(e){const t=this.getOffsetParent||hn,n=this.getDimensions,r=await n(e.floating);return{reference:yr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xr(e){return ie(e).direction==="rtl"}const wr={convertOffsetParentRelativeRectToViewportRelativeRect:fr,getDocumentElement:fe,getClippingRect:br,getOffsetParent:hn,getElementRects:Er,getClientRects:dr,getDimensions:Rr,getScale:Ie,isElement:j,isRTL:xr};function bn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Cr(e,t){let n=null,r;const o=fe(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,l){u===void 0&&(u=!1),l===void 0&&(l=1),i();const c=e.getBoundingClientRect(),{left:d,top:m,width:b,height:f}=c;if(u||t(),!b||!f)return;const h=Ne(m),v=Ne(o.clientWidth-(d+b)),E=Ne(o.clientHeight-(m+f)),y=Ne(d),R={rootMargin:-h+"px "+-v+"px "+-E+"px "+-y+"px",threshold:Te(0,lt(1,l))||1};let I=!0;function P(k){const M=k[0].intersectionRatio;if(M!==l){if(!I)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}M===1&&!bn(c,e.getBoundingClientRect())&&s(),I=!1}try{n=new IntersectionObserver(P,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(P,R)}n.observe(e)}return s(!0),i}function io(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Rt(e),d=o||i?[...c?Ce(c):[],...Ce(t)]:[];d.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const m=c&&u?Cr(c,n):null;let b=-1,f=null;s&&(f=new ResizeObserver(y=>{let[p]=y;p&&p.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=f)==null||R.observe(t)})),n()}),c&&!l&&f.observe(c),f.observe(t));let h,v=l?Ee(e):null;l&&E();function E(){const y=Ee(e);v&&!bn(v,y)&&n(),v=y,h=requestAnimationFrame(E)}return n(),()=>{var y;d.forEach(p=>{o&&p.removeEventListener("scroll",n),i&&p.removeEventListener("resize",n)}),m?.(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const Tr=Tn,Sr=In,Ir=Sn,At=Mn,Mr=Ln,Lr=(e,t,n)=>{const r=new Map,o={platform:wr,...n},i={...o.platform,_c:r};return On(e,t,{...o,platform:i})};var Or=typeof document<"u",Fr=function(){},Be=Or?a.useLayoutEffect:Fr;function Ke(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ke(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ke(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Rn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pt(e,t){const n=Rn(e);return Math.round(t*n)/n}function ot(e){const t=a.useRef(e);return Be(()=>{t.current=e}),t}function Ar(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:u=!0,whileElementsMounted:l,open:c}=e,[d,m]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,f]=a.useState(r);Ke(b,r)||f(r);const[h,v]=a.useState(null),[E,y]=a.useState(null),p=a.useCallback(g=>{g!==k.current&&(k.current=g,v(g))},[]),R=a.useCallback(g=>{g!==M.current&&(M.current=g,y(g))},[]),I=i||h,P=s||E,k=a.useRef(null),M=a.useRef(null),N=a.useRef(d),z=l!=null,q=ot(l),B=ot(o),H=ot(c),_=a.useCallback(()=>{if(!k.current||!M.current)return;const g={placement:t,strategy:n,middleware:b};B.current&&(g.platform=B.current),Lr(k.current,M.current,g).then(S=>{const L={...S,isPositioned:H.current!==!1};x.current&&!Ke(N.current,L)&&(N.current=L,zt.flushSync(()=>{m(L)}))})},[b,t,n,B,H]);Be(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,m(g=>({...g,isPositioned:!1})))},[c]);const x=a.useRef(!1);Be(()=>(x.current=!0,()=>{x.current=!1}),[]),Be(()=>{if(I&&(k.current=I),P&&(M.current=P),I&&P){if(q.current)return q.current(I,P,_);_()}},[I,P,_,q,z]);const w=a.useMemo(()=>({reference:k,floating:M,setReference:p,setFloating:R}),[p,R]),$=a.useMemo(()=>({reference:I,floating:P}),[I,P]),C=a.useMemo(()=>{const g={position:n,left:0,top:0};if(!$.floating)return g;const S=Pt($.floating,d.x),L=Pt($.floating,d.y);return u?{...g,transform:"translate("+S+"px, "+L+"px)",...Rn($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:S,top:L}},[n,u,$.floating,d.x,d.y]);return a.useMemo(()=>({...d,update:_,refs:w,elements:$,floatingStyles:C}),[d,_,w,$,C])}const Pr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?At({element:r.current,padding:o}).fn(n):{}:r?At({element:r,padding:o}).fn(n):{}}}},uo=(e,t)=>({...Tr(e),options:[e,t]}),co=(e,t)=>({...Sr(e),options:[e,t]}),lo=(e,t)=>({...Mr(e),options:[e,t]}),ao=(e,t)=>({...Ir(e),options:[e,t]}),fo=(e,t)=>({...Pr(e),options:[e,t]});function go(e){const t=a.useRef(void 0),n=a.useCallback(r=>{const o=e.map(i=>{if(i!=null){if(typeof i=="function"){const s=i,u=s(r);return typeof u=="function"?u:()=>{s(null)}}return i.current=r,()=>{i.current=null}}});return()=>{o.forEach(i=>i?.())}},e);return a.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}const Dr="data-floating-ui-focusable",Dt="active",kt="selected",kr={...Ut};let Nt=!1,Nr=0;const $t=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Nr++;function $r(){const[e,t]=a.useState(()=>Nt?$t():void 0);return G(()=>{e==null&&t($t())},[]),a.useEffect(()=>{Nt=!0},[]),e}const Wr=kr.useId,ze=Wr||$r,mo=a.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:i,shift:s}},width:u=14,height:l=7,tipRadius:c=0,strokeWidth:d=0,staticOffset:m,stroke:b,d:f,style:{transform:h,...v}={},...E}=t,y=ze(),[p,R]=a.useState(!1);if(G(()=>{if(!o)return;ie(o).direction==="rtl"&&R(!0)},[o]),!o)return null;const[I,P]=r.split("-"),k=I==="top"||I==="bottom";let M=m;(k&&s!=null&&s.x||!k&&s!=null&&s.y)&&(M=null);const N=d*2,z=N/2,q=u/2*(c/-8+1),B=l/2*c/4,H=!!f,_=M&&P==="end"?"bottom":"top";let x=M&&P==="end"?"right":"left";M&&p&&(x=P==="end"?"left":"right");const w=i?.x!=null?M||i.x:"",$=i?.y!=null?M||i.y:"",C=f||"M0,0"+(" H"+u)+(" L"+(u-q)+","+(l-B))+(" Q"+u/2+","+l+" "+q+","+(l-B))+" Z",g={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[I];return Y.jsxs("svg",{...E,"aria-hidden":!0,ref:n,width:H?u:u+N,height:u,viewBox:"0 0 "+u+" "+(l>u?l:u),style:{position:"absolute",pointerEvents:"none",[x]:w,[_]:$,[I]:k||H?"100%":"calc(100% - "+N/2+"px)",transform:[g,h].filter(S=>!!S).join(" "),...v},children:[N>0&&Y.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:b,strokeWidth:N+(f?0:1),d:C}),Y.jsx("path",{stroke:N&&!f?E.fill:"none",d:C}),Y.jsx("clipPath",{id:y,children:Y.jsx("rect",{x:-z,y:z*(H?-1:1),width:u+N,height:u})})]})});function Br(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const _r=a.createContext(null),Vr=a.createContext(null),yt=()=>{var e;return((e=a.useContext(_r))==null?void 0:e.id)||null},Ze=()=>a.useContext(Vr);function xe(e){return"data-floating-ui-"+e}function ne(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Wt=xe("safe-polygon");function _e(e,t,n){if(n&&!mt(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function st(e){return typeof e=="function"?e():e}function vo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:s}=e,{enabled:u=!0,delay:l=0,handleClose:c=null,mouseOnly:d=!1,restMs:m=0,move:b=!0}=t,f=Ze(),h=yt(),v=Re(c),E=Re(l),y=Re(n),p=Re(m),R=a.useRef(),I=a.useRef(-1),P=a.useRef(),k=a.useRef(-1),M=a.useRef(!0),N=a.useRef(!1),z=a.useRef(()=>{}),q=a.useRef(!1),B=ee(()=>{var C;const g=(C=o.current.openEvent)==null?void 0:C.type;return g?.includes("mouse")&&g!=="mousedown"});a.useEffect(()=>{if(!u)return;function C(g){let{open:S}=g;S||(ne(I),ne(k),M.current=!0,q.current=!1)}return i.on("openchange",C),()=>{i.off("openchange",C)}},[u,i]),a.useEffect(()=>{if(!u||!v.current||!n)return;function C(S){B()&&r(!1,S,"hover")}const g=J(s.floating).documentElement;return g.addEventListener("mouseleave",C),()=>{g.removeEventListener("mouseleave",C)}},[s.floating,n,r,u,v,B]);const H=a.useCallback(function(C,g,S){g===void 0&&(g=!0),S===void 0&&(S="hover");const L=_e(E.current,"close",R.current);L&&!P.current?(ne(I),I.current=window.setTimeout(()=>r(!1,C,S),L)):g&&(ne(I),r(!1,C,S))},[E,r]),_=ee(()=>{z.current(),P.current=void 0}),x=ee(()=>{if(N.current){const C=J(s.floating).body;C.style.pointerEvents="",C.removeAttribute(Wt),N.current=!1}}),w=ee(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);a.useEffect(()=>{if(!u)return;function C(F){if(ne(I),M.current=!1,d&&!mt(R.current)||st(p.current)>0&&!_e(E.current,"open"))return;const T=_e(E.current,"open",R.current);T?I.current=window.setTimeout(()=>{y.current||r(!0,F,"hover")},T):n||r(!0,F,"hover")}function g(F){if(w()){x();return}z.current();const T=J(s.floating);if(ne(k),q.current=!1,v.current&&o.current.floatingContext){n||ne(I),P.current=v.current({...o.current.floatingContext,tree:f,x:F.clientX,y:F.clientY,onClose(){x(),_(),w()||H(F,!0,"safe-polygon")}});const V=P.current;T.addEventListener("mousemove",V),z.current=()=>{T.removeEventListener("mousemove",V)};return}(R.current==="touch"?!Z(s.floating,F.relatedTarget):!0)&&H(F)}function S(F){w()||o.current.floatingContext&&(v.current==null||v.current({...o.current.floatingContext,tree:f,x:F.clientX,y:F.clientY,onClose(){x(),_(),w()||H(F)}})(F))}function L(){ne(I)}function U(F){w()||H(F,!1)}if(j(s.domReference)){const F=s.domReference,T=s.floating;return n&&F.addEventListener("mouseleave",S),b&&F.addEventListener("mousemove",C,{once:!0}),F.addEventListener("mouseenter",C),F.addEventListener("mouseleave",g),T&&(T.addEventListener("mouseleave",S),T.addEventListener("mouseenter",L),T.addEventListener("mouseleave",U)),()=>{n&&F.removeEventListener("mouseleave",S),b&&F.removeEventListener("mousemove",C),F.removeEventListener("mouseenter",C),F.removeEventListener("mouseleave",g),T&&(T.removeEventListener("mouseleave",S),T.removeEventListener("mouseenter",L),T.removeEventListener("mouseleave",U))}}},[s,u,e,d,b,H,_,x,r,n,y,f,E,v,o,w,p]),G(()=>{var C;if(u&&n&&(C=v.current)!=null&&(C=C.__options)!=null&&C.blockPointerEvents&&B()){N.current=!0;const S=s.floating;if(j(s.domReference)&&S){var g;const L=J(s.floating).body;L.setAttribute(Wt,"");const U=s.domReference,F=f==null||(g=f.nodesRef.current.find(T=>T.id===h))==null||(g=g.context)==null?void 0:g.elements.floating;return F&&(F.style.pointerEvents=""),L.style.pointerEvents="none",U.style.pointerEvents="auto",S.style.pointerEvents="auto",()=>{L.style.pointerEvents="",U.style.pointerEvents="",S.style.pointerEvents=""}}}},[u,n,h,s,f,v,B]),G(()=>{n||(R.current=void 0,q.current=!1,_(),x())},[n,_,x]),a.useEffect(()=>()=>{_(),ne(I),ne(k),x()},[u,s.domReference,_,x]);const $=a.useMemo(()=>{function C(g){R.current=g.pointerType}return{onPointerDown:C,onPointerEnter:C,onMouseMove(g){const{nativeEvent:S}=g;function L(){!M.current&&!y.current&&r(!0,S,"hover")}d&&!mt(R.current)||n||st(p.current)===0||q.current&&g.movementX**2+g.movementY**2<2||(ne(k),R.current==="touch"?L():(q.current=!0,k.current=window.setTimeout(L,st(p.current))))}}},[d,r,n,y,p]);return a.useMemo(()=>u?{reference:$}:{},[u,$])}const vt=()=>{},yn=a.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:vt,setState:vt,isInstantPhase:!1}),jr=()=>a.useContext(yn);function po(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,i]=a.useReducer((l,c)=>({...l,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=a.useRef(null),u=a.useCallback(l=>{i({currentId:l})},[]);return G(()=>{o.currentId?s.current===null?s.current=o.currentId:o.isInstantPhase||i({isInstantPhase:!0}):(o.isInstantPhase&&i({isInstantPhase:!1}),s.current=null)},[o.currentId,o.isInstantPhase]),Y.jsx(yn.Provider,{value:a.useMemo(()=>({...o,setState:i,setCurrentId:u}),[o,u]),children:t})}function ho(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:i,enabled:s=!0}=t,u=i??o,l=jr(),{currentId:c,setCurrentId:d,initialDelay:m,setState:b,timeoutMs:f}=l;return G(()=>{s&&c&&(b({delay:{open:1,close:_e(m,"close")}}),c!==u&&r(!1))},[s,u,r,b,c,m]),G(()=>{function h(){r(!1),b({delay:m,currentId:null})}if(s&&c&&!n&&c===u){if(f){const v=window.setTimeout(h,f);return()=>{clearTimeout(v)}}h()}},[s,n,b,c,u,r,m,f]),G(()=>{s&&(d===vt||!n||d(u))},[s,n,d,u]),l}let Bt=0;function we(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Bt);const i=()=>e?.focus({preventScroll:n});o?i():Bt=requestAnimationFrame(i)}function Hr(e){return e?.ownerDocument||document}const Me={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function _t(e){return e==="inert"?Me.inert:e==="aria-hidden"?Me["aria-hidden"]:Me.none}let $e=new WeakSet,We={},it=0;const qr=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,En=e=>e&&(e.host||En(e.parentNode)),Kr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=En(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Gr(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Kr(t,e),u=new Set,l=new Set(s),c=[];We[o]||(We[o]=new WeakMap);const d=We[o];s.forEach(m),b(t),u.clear();function m(f){!f||u.has(f)||(u.add(f),f.parentNode&&m(f.parentNode))}function b(f){!f||l.has(f)||[].forEach.call(f.children,h=>{if(Ae(h)!=="script")if(u.has(h))b(h);else{const v=i?h.getAttribute(i):null,E=v!==null&&v!=="false",y=_t(i),p=(y.get(h)||0)+1,R=(d.get(h)||0)+1;y.set(h,p),d.set(h,R),c.push(h),p===1&&E&&$e.add(h),R===1&&h.setAttribute(o,""),!E&&i&&h.setAttribute(i,i==="inert"?"":"true")}})}return it++,()=>{c.forEach(f=>{const h=_t(i),E=(h.get(f)||0)-1,y=(d.get(f)||0)-1;h.set(f,E),d.set(f,y),E||(!$e.has(f)&&i&&f.removeAttribute(i),$e.delete(f)),y||f.removeAttribute(o)}),it--,it||(Me.inert=new WeakMap,Me["aria-hidden"]=new WeakMap,Me.none=new WeakMap,$e=new WeakSet,We={})}}function Vt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=Hr(e[0]).body;return Gr(e.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,t,n)}const Je={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Ge=a.forwardRef(function(t,n){const[r,o]=a.useState();G(()=>{un()&&o("button")},[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[xe("focus-guard")]:"",style:Je};return Y.jsx("span",{...t,...i})}),xn=a.createContext(null),jt=xe("portal");function Ur(e){e===void 0&&(e={});const{id:t,root:n}=e,r=ze(),o=wn(),[i,s]=a.useState(null),u=a.useRef(null);return G(()=>()=>{i?.remove(),queueMicrotask(()=>{u.current=null})},[i]),G(()=>{if(!r||u.current)return;const l=t?document.getElementById(t):null;if(!l)return;const c=document.createElement("div");c.id=r,c.setAttribute(jt,""),l.appendChild(c),u.current=c,s(c)},[t,r]),G(()=>{if(n===null||!r||u.current)return;let l=n||o?.portalNode;l&&!Pn(l)&&(l=l.current),l=l||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,l.appendChild(c));const d=document.createElement("div");d.id=r,d.setAttribute(jt,""),l=c||l,l.appendChild(d),u.current=d,s(d)},[t,n,r,o]),i}function bo(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,i=Ur({id:n,root:r}),[s,u]=a.useState(null),l=a.useRef(null),c=a.useRef(null),d=a.useRef(null),m=a.useRef(null),b=s?.modal,f=s?.open,h=!!s&&!s.modal&&s.open&&o&&!!(r||i);return a.useEffect(()=>{if(!i||!o||b)return;function v(E){i&&Fe(E)&&(E.type==="focusin"?Mt:cr)(i)}return i.addEventListener("focusin",v,!0),i.addEventListener("focusout",v,!0),()=>{i.removeEventListener("focusin",v,!0),i.removeEventListener("focusout",v,!0)}},[i,o,b]),a.useEffect(()=>{i&&(f||Mt(i))},[f,i]),Y.jsxs(xn.Provider,{value:a.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:d,afterInsideRef:m,portalNode:i,setFocusManagerState:u}),[o,i]),children:[h&&i&&Y.jsx(Ge,{"data-type":"outside",ref:l,onFocus:v=>{if(Fe(v,i)){var E;(E=d.current)==null||E.focus()}else{const y=s?s.domReference:null,p=dn(y);p?.focus()}}}),h&&i&&Y.jsx("span",{"aria-owns":i.id,style:Je}),i&&zt.createPortal(t,i),h&&i&&Y.jsx(Ge,{"data-type":"outside",ref:c,onFocus:v=>{if(Fe(v,i)){var E;(E=m.current)==null||E.focus()}else{const y=s?s.domReference:null,p=fn(y);p?.focus(),s?.closeOnFocusOut&&s?.onOpenChange(!1,v.nativeEvent,"focus-out")}}})]})}const wn=()=>a.useContext(xn);function Ht(e){return a.useMemo(()=>t=>{e.forEach(n=>{n&&(n.current=t)})},e)}const Xr=20;let pe=[];function Et(){pe=pe.filter(e=>e.isConnected)}function Yr(e){Et(),e&&Ae(e)!=="body"&&(pe.push(e),pe.length>Xr&&(pe=pe.slice(-20)))}function qt(){return Et(),pe[pe.length-1]}function zr(e){const t=Pe();return rn(e,t)?e:Xe(e,t)[0]||e}function Kt(e,t){var n;if(!t.current.includes("floating")&&!((n=e.getAttribute("role"))!=null&&n.includes("dialog")))return;const r=Pe(),i=Yn(e,r).filter(u=>{const l=u.getAttribute("data-tabindex")||"";return rn(u,r)||u.hasAttribute("data-tabindex")&&!l.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||i.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const Zr=a.forwardRef(function(t,n){return Y.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:Je})});function Ro(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:u=!0,restoreFocus:l=!1,modal:c=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:m=!0,outsideElementsInert:b=!1,getInsideElements:f=()=>[]}=e,{open:h,onOpenChange:v,events:E,dataRef:y,elements:{domReference:p,floating:R}}=t,I=ee(()=>{var O;return(O=y.current.floatingContext)==null?void 0:O.nodeId}),P=ee(f),k=typeof s=="number"&&s<0,M=St(p)&&k,N=qr(),z=N?i:!0,q=!z||N&&b,B=Re(o),H=Re(s),_=Re(u),x=Ze(),w=wn(),$=a.useRef(null),C=a.useRef(null),g=a.useRef(!1),S=a.useRef(!1),L=a.useRef(-1),U=a.useRef(-1),F=w!=null,T=gt(R),se=ee(function(O){return O===void 0&&(O=T),O?Xe(O,Pe()):[]}),V=ee(O=>{const D=se(O);return B.current.map(A=>p&&A==="reference"?p:T&&A==="floating"?T:D).filter(Boolean).flat()});a.useEffect(()=>{if(r||!c)return;function O(A){if(A.key==="Tab"){Z(T,ve(J(T)))&&se().length===0&&!M&&nt(A);const K=V(),X=ae(A);B.current[0]==="reference"&&X===p&&(nt(A),A.shiftKey?we(K[K.length-1]):we(K[1])),B.current[1]==="floating"&&X===T&&A.shiftKey&&(nt(A),we(K[0]))}}const D=J(T);return D.addEventListener("keydown",O),()=>{D.removeEventListener("keydown",O)}},[r,p,T,c,B,M,se,V]),a.useEffect(()=>{if(r||!R)return;function O(D){const A=ae(D),X=se().indexOf(A);X!==-1&&(L.current=X)}return R.addEventListener("focusin",O),()=>{R.removeEventListener("focusin",O)}},[r,R,se]),a.useEffect(()=>{if(r||!m)return;function O(){S.current=!0,setTimeout(()=>{S.current=!1})}function D(X){const W=X.relatedTarget,ce=X.currentTarget,oe=ae(X);queueMicrotask(()=>{const te=I(),be=!(Z(p,W)||Z(R,W)||Z(W,R)||Z(w?.portalNode,W)||W!=null&&W.hasAttribute(xe("focus-guard"))||x&&(Se(x.nodesRef.current,te).find(ge=>{var le,me;return Z((le=ge.context)==null?void 0:le.elements.floating,W)||Z((me=ge.context)==null?void 0:me.elements.domReference,W)})||It(x.nodesRef.current,te).find(ge=>{var le,me,xt;return[(le=ge.context)==null?void 0:le.elements.floating,gt((me=ge.context)==null?void 0:me.elements.floating)].includes(W)||((xt=ge.context)==null?void 0:xt.elements.domReference)===W})));if(ce===p&&T&&Kt(T,B),l&&ce!==p&&!(oe!=null&&oe.isConnected)&&ve(J(T))===J(T).body){Q(T)&&T.focus();const ge=L.current,le=se(),me=le[ge]||le[le.length-1]||T;Q(me)&&me.focus()}if(y.current.insideReactTree){y.current.insideReactTree=!1;return}(M||!c)&&W&&be&&!S.current&&W!==qt()&&(g.current=!0,v(!1,X,"focus-out"))})}const A=!!(!x&&w);function K(){ne(U),y.current.insideReactTree=!0,U.current=window.setTimeout(()=>{y.current.insideReactTree=!1})}if(R&&Q(p))return p.addEventListener("focusout",D),p.addEventListener("pointerdown",O),R.addEventListener("focusout",D),A&&R.addEventListener("focusout",K,!0),()=>{p.removeEventListener("focusout",D),p.removeEventListener("pointerdown",O),R.removeEventListener("focusout",D),A&&R.removeEventListener("focusout",K,!0)}},[r,p,R,T,c,x,w,v,m,l,se,M,I,B,y]);const re=a.useRef(null),de=a.useRef(null),Qe=Ht([re,w?.beforeInsideRef]),et=Ht([de,w?.afterInsideRef]);a.useEffect(()=>{var O,D;if(r||!R)return;const A=Array.from((w==null||(O=w.portalNode)==null?void 0:O.querySelectorAll("["+xe("portal")+"]"))||[]),X=(D=(x?It(x.nodesRef.current,I()):[]).find(oe=>{var te;return St(((te=oe.context)==null?void 0:te.elements.domReference)||null)}))==null||(D=D.context)==null?void 0:D.elements.domReference,W=[R,X,...A,...P(),$.current,C.current,re.current,de.current,w?.beforeOutsideRef.current,w?.afterOutsideRef.current,B.current.includes("reference")||M?p:null].filter(oe=>oe!=null),ce=c||M?Vt(W,!q,q):Vt(W);return()=>{ce()}},[r,p,R,c,B,w,M,z,q,x,I,P]),G(()=>{if(r||!Q(T))return;const O=J(T),D=ve(O);queueMicrotask(()=>{const A=V(T),K=H.current,X=(typeof K=="number"?A[K]:K.current)||T,W=Z(T,D);!k&&!W&&h&&we(X,{preventScroll:X===T})})},[r,h,T,k,V,H]),G(()=>{if(r||!T)return;const O=J(T),D=ve(O);Yr(D);function A(W){let{reason:ce,event:oe,nested:te}=W;if(["hover","safe-polygon"].includes(ce)&&oe.type==="mouseleave"&&(g.current=!0),ce==="outside-press")if(te)g.current=!1;else if(tr(oe)||nr(oe))g.current=!1;else{let be=!1;document.createElement("div").focus({get preventScroll(){return be=!0,!1}}),be?g.current=!1:g.current=!0}}E.on("openchange",A);const K=O.createElement("span");K.setAttribute("tabindex","-1"),K.setAttribute("aria-hidden","true"),Object.assign(K.style,Je),F&&p&&p.insertAdjacentElement("afterend",K);function X(){if(typeof _.current=="boolean"){const W=p||qt();return W&&W.isConnected?W:K}return _.current.current||K}return()=>{E.off("openchange",A);const W=ve(O),ce=Z(R,W)||x&&Se(x.nodesRef.current,I(),!1).some(te=>{var be;return Z((be=te.context)==null?void 0:be.elements.floating,W)}),oe=X();queueMicrotask(()=>{const te=zr(oe);_.current&&!g.current&&Q(te)&&(!(te!==W&&W!==O.body)||ce)&&te.focus({preventScroll:!0}),K.remove()})}},[r,R,T,_,y,E,x,F,p,I]),a.useEffect(()=>(queueMicrotask(()=>{g.current=!1}),()=>{queueMicrotask(Et)}),[r]),G(()=>{if(!r&&w)return w.setFocusManagerState({modal:c,closeOnFocusOut:m,open:h,onOpenChange:v,domReference:p}),()=>{w.setFocusManagerState(null)}},[r,w,c,h,v,m,p]),G(()=>{r||T&&Kt(T,B)},[r,T,B]);function De(O){return r||!d||!c?null:Y.jsx(Zr,{ref:O==="start"?$:C,onClick:D=>v(!1,D.nativeEvent),children:typeof d=="string"?d:"Dismiss"})}const ke=!r&&z&&(c?!M:!0)&&(F||c);return Y.jsxs(Y.Fragment,{children:[ke&&Y.jsx(Ge,{"data-type":"inside",ref:Qe,onFocus:O=>{if(c){const A=V();we(o[0]==="reference"?A[0]:A[A.length-1])}else if(w!=null&&w.preserveTabOrder&&w.portalNode)if(g.current=!1,Fe(O,w.portalNode)){const A=fn(p);A?.focus()}else{var D;(D=w.beforeOutsideRef.current)==null||D.focus()}}}),!M&&De("start"),n,De("end"),ke&&Y.jsx(Ge,{"data-type":"inside",ref:et,onFocus:O=>{if(c)we(V()[0]);else if(w!=null&&w.preserveTabOrder&&w.portalNode)if(m&&(g.current=!0),Fe(O,w.portalNode)){const A=dn(p);A?.focus()}else{var D;(D=w.afterOutsideRef.current)==null||D.focus()}}})]})}const Jr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Qr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Gt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function yo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:i}=e,{enabled:s=!0,escapeKey:u=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:d=!1,referencePressEvent:m="pointerdown",ancestorScroll:b=!1,bubbles:f,capture:h}=t,v=Ze(),E=ee(typeof l=="function"?l:()=>!1),y=typeof l=="function"?E:l,p=a.useRef(!1),{escapeKey:R,outsidePress:I}=Gt(f),{escapeKey:P,outsidePress:k}=Gt(h),M=a.useRef(!1),N=ee(x=>{var w;if(!n||!s||!u||x.key!=="Escape"||M.current)return;const $=(w=i.current.floatingContext)==null?void 0:w.nodeId,C=v?Se(v.nodesRef.current,$):[];if(!R&&(x.stopPropagation(),C.length>0)){let g=!0;if(C.forEach(S=>{var L;if((L=S.context)!=null&&L.open&&!S.context.dataRef.current.__escapeKeyBubbles){g=!1;return}}),!g)return}r(!1,er(x)?x.nativeEvent:x,"escape-key")}),z=ee(x=>{var w;const $=()=>{var C;N(x),(C=ae(x))==null||C.removeEventListener("keydown",$)};(w=ae(x))==null||w.addEventListener("keydown",$)}),q=ee(x=>{var w;const $=i.current.insideReactTree;i.current.insideReactTree=!1;const C=p.current;if(p.current=!1,c==="click"&&C||$||typeof y=="function"&&!y(x))return;const g=ae(x),S="["+xe("inert")+"]",L=J(o.floating).querySelectorAll(S);let U=j(g)?g:null;for(;U&&!ye(U);){const V=Le(U);if(ye(V)||!j(V))break;U=V}if(L.length&&j(g)&&!Jn(g)&&!Z(g,o.floating)&&Array.from(L).every(V=>!Z(U,V)))return;if(Q(g)&&_){const V=ye(g),re=ie(g),de=/auto|scroll/,Qe=V||de.test(re.overflowX),et=V||de.test(re.overflowY),De=Qe&&g.clientWidth>0&&g.scrollWidth>g.clientWidth,ke=et&&g.clientHeight>0&&g.scrollHeight>g.clientHeight,O=re.direction==="rtl",D=ke&&(O?x.offsetX<=g.offsetWidth-g.clientWidth:x.offsetX>g.clientWidth),A=De&&x.offsetY>g.clientHeight;if(D||A)return}const F=(w=i.current.floatingContext)==null?void 0:w.nodeId,T=v&&Se(v.nodesRef.current,F).some(V=>{var re;return tt(x,(re=V.context)==null?void 0:re.elements.floating)});if(tt(x,o.floating)||tt(x,o.domReference)||T)return;const se=v?Se(v.nodesRef.current,F):[];if(se.length>0){let V=!0;if(se.forEach(re=>{var de;if((de=re.context)!=null&&de.open&&!re.context.dataRef.current.__outsidePressBubbles){V=!1;return}}),!V)return}r(!1,x,"outside-press")}),B=ee(x=>{var w;const $=()=>{var C;q(x),(C=ae(x))==null||C.removeEventListener(c,$)};(w=ae(x))==null||w.addEventListener(c,$)});a.useEffect(()=>{if(!n||!s)return;i.current.__escapeKeyBubbles=R,i.current.__outsidePressBubbles=I;let x=-1;function w(L){r(!1,L,"ancestor-scroll")}function $(){window.clearTimeout(x),M.current=!0}function C(){x=window.setTimeout(()=>{M.current=!1},bt()?5:0)}const g=J(o.floating);u&&(g.addEventListener("keydown",P?z:N,P),g.addEventListener("compositionstart",$),g.addEventListener("compositionend",C)),y&&g.addEventListener(c,k?B:q,k);let S=[];return b&&(j(o.domReference)&&(S=Ce(o.domReference)),j(o.floating)&&(S=S.concat(Ce(o.floating))),!j(o.reference)&&o.reference&&o.reference.contextElement&&(S=S.concat(Ce(o.reference.contextElement)))),S=S.filter(L=>{var U;return L!==((U=g.defaultView)==null?void 0:U.visualViewport)}),S.forEach(L=>{L.addEventListener("scroll",w,{passive:!0})}),()=>{u&&(g.removeEventListener("keydown",P?z:N,P),g.removeEventListener("compositionstart",$),g.removeEventListener("compositionend",C)),y&&g.removeEventListener(c,k?B:q,k),S.forEach(L=>{L.removeEventListener("scroll",w)}),window.clearTimeout(x)}},[i,o,u,y,c,n,r,b,s,R,I,N,P,z,q,k,B]),a.useEffect(()=>{i.current.insideReactTree=!1},[i,y,c]);const H=a.useMemo(()=>({onKeyDown:N,...d&&{[Jr[m]]:x=>{r(!1,x.nativeEvent,"reference-press")},...m!=="click"&&{onClick(x){r(!1,x.nativeEvent,"reference-press")}}}}),[N,r,d,m]),_=a.useMemo(()=>({onKeyDown:N,onMouseDown(){p.current=!0},onMouseUp(){p.current=!0},[Qr[c]]:()=>{i.current.insideReactTree=!0}}),[N,c,i]);return a.useMemo(()=>s?{reference:H,floating:_}:{},[s,H,_])}function eo(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=ze(),i=a.useRef({}),[s]=a.useState(()=>Br()),u=yt()!=null,[l,c]=a.useState(r.reference),d=ee((f,h,v)=>{i.current.openEvent=f?h:void 0,s.emit("openchange",{open:f,event:h,reason:v,nested:u}),n?.(f,h,v)}),m=a.useMemo(()=>({setPositionReference:c}),[]),b=a.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return a.useMemo(()=>({dataRef:i,open:t,onOpenChange:d,elements:b,events:s,floatingId:o,refs:m}),[t,d,b,s,o,m])}function Eo(e){e===void 0&&(e={});const{nodeId:t}=e,n=eo({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=a.useState(null),[u,l]=a.useState(null),d=o?.domReference||i,m=a.useRef(null),b=Ze();G(()=>{d&&(m.current=d)},[d]);const f=Ar({...e,elements:{...o,...u&&{reference:u}}}),h=a.useCallback(R=>{const I=j(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;l(I),f.refs.setReference(I)},[f.refs]),v=a.useCallback(R=>{(j(R)||R===null)&&(m.current=R,s(R)),(j(f.refs.reference.current)||f.refs.reference.current===null||R!==null&&!j(R))&&f.refs.setReference(R)},[f.refs]),E=a.useMemo(()=>({...f.refs,setReference:v,setPositionReference:h,domReference:m}),[f.refs,v,h]),y=a.useMemo(()=>({...f.elements,domReference:d}),[f.elements,d]),p=a.useMemo(()=>({...f,...r,refs:E,elements:y,nodeId:t}),[f,E,y,t,r]);return G(()=>{r.dataRef.current.floatingContext=p;const R=b?.nodesRef.current.find(I=>I.id===t);R&&(R.context=p)}),a.useMemo(()=>({...f,context:p,refs:E,elements:y}),[f,E,y,p])}function ut(){return zn()&&un()}function xo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:s}=e,{enabled:u=!0,visibleOnly:l=!0}=t,c=a.useRef(!1),d=a.useRef(-1),m=a.useRef(!0);a.useEffect(()=>{if(!u)return;const f=he(s.domReference);function h(){!n&&Q(s.domReference)&&s.domReference===ve(J(s.domReference))&&(c.current=!0)}function v(){m.current=!0}function E(){m.current=!1}return f.addEventListener("blur",h),ut()&&(f.addEventListener("keydown",v,!0),f.addEventListener("pointerdown",E,!0)),()=>{f.removeEventListener("blur",h),ut()&&(f.removeEventListener("keydown",v,!0),f.removeEventListener("pointerdown",E,!0))}},[s.domReference,n,u]),a.useEffect(()=>{if(!u)return;function f(h){let{reason:v}=h;(v==="reference-press"||v==="escape-key")&&(c.current=!0)}return o.on("openchange",f),()=>{o.off("openchange",f)}},[o,u]),a.useEffect(()=>()=>{ne(d)},[]);const b=a.useMemo(()=>({onMouseLeave(){c.current=!1},onFocus(f){if(c.current)return;const h=ae(f.nativeEvent);if(l&&j(h)){if(ut()&&!f.relatedTarget){if(!m.current&&!ln(h))return}else if(!Qn(h))return}r(!0,f.nativeEvent,"focus")},onBlur(f){c.current=!1;const h=f.relatedTarget,v=f.nativeEvent,E=j(h)&&h.hasAttribute(xe("focus-guard"))&&h.getAttribute("data-type")==="outside";d.current=window.setTimeout(()=>{var y;const p=ve(s.domReference?s.domReference.ownerDocument:document);!h&&p===s.domReference||Z((y=i.current.floatingContext)==null?void 0:y.refs.floating.current,p)||Z(s.domReference,p)||E||r(!1,v,"focus")})}}),[i,s.domReference,r,l]);return a.useMemo(()=>u?{reference:b}:{},[u,b])}function ct(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[Dt]:s,[kt]:u,...l}=e;i=l}return{...n==="floating"&&{tabIndex:-1,[Dr]:""},...i,...t.map(s=>{const u=s?s[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((s,u)=>(u&&Object.entries(u).forEach(l=>{let[c,d]=l;if(!(o&&[Dt,kt].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof d=="function"){var m;(m=r.get(c))==null||m.push(d),s[c]=function(){for(var b,f=arguments.length,h=new Array(f),v=0;v<f;v++)h[v]=arguments[v];return(b=r.get(c))==null?void 0:b.map(E=>E(...h)).find(E=>E!==void 0)}}}else s[c]=d}),s),{})}}function wo(e){e===void 0&&(e=[]);const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),r=e.map(u=>u?.item),o=a.useCallback(u=>ct(u,e,"reference"),t),i=a.useCallback(u=>ct(u,e,"floating"),n),s=a.useCallback(u=>ct(u,e,"item"),r);return a.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}const to=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Co(e,t){var n,r;t===void 0&&(t={});const{open:o,elements:i,floatingId:s}=e,{enabled:u=!0,role:l="dialog"}=t,c=ze(),d=((n=i.domReference)==null?void 0:n.id)||c,m=a.useMemo(()=>{var p;return((p=gt(i.floating))==null?void 0:p.id)||s},[i.floating,s]),b=(r=to.get(l))!=null?r:l,h=yt()!=null,v=a.useMemo(()=>b==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:o?m:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":b==="alertdialog"?"dialog":b,"aria-controls":o?m:void 0,...b==="listbox"&&{role:"combobox"},...b==="menu"&&{id:d},...b==="menu"&&h&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[b,m,h,o,d,l]),E=a.useMemo(()=>{const p={id:m,...b&&{role:b}};return b==="tooltip"||l==="label"?p:{...p,...b==="menu"&&{"aria-labelledby":d}}},[b,m,d,l]),y=a.useCallback(p=>{let{active:R,selected:I}=p;const P={role:"option",...R&&{id:m+"-fui-option"}};switch(l){case"select":case"combobox":return{...P,"aria-selected":I}}return{}},[m,l]);return a.useMemo(()=>u?{reference:v,floating:E,item:y}:{},[u,v,E,y])}export{po as F,Eo as a,fo as b,ho as c,vo as d,xo as e,ao as f,yo as g,Co as h,wo as i,io as j,go as k,bo as l,mo as m,lo as n,uo as o,Ro as p,co as s,ze as u};
