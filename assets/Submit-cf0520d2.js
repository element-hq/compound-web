import{j as b}from"./jsx-runtime-ffb262ed.js";import{r as a}from"./index-76fb7be0.js";import{c as V}from"./index-e131923d.js";import{_}from"./extends-98964cd2.js";import{$ as R,a as ve,b as z,c as T,d as G}from"./index-c339dd50.js";import{B as $e}from"./Button-44c2d377.js";const he=a.forwardRef((e,o)=>a.createElement(R.label,_({},e,{ref:o,onMouseDown:t=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault()}}))),[H,tt]=ve("Form"),ne="Form",[_e,S]=H(ne),[Ce,se]=H(ne),ye=a.forwardRef((e,o)=>{const{__scopeForm:t,onClearServerErrors:r=()=>{},...n}=e,l=a.useRef(null),f=z(o,l),[u,v]=a.useState({}),p=a.useCallback(i=>u[i],[u]),F=a.useCallback((i,c)=>v(d=>{var m;return{...d,[i]:{...(m=d[i])!==null&&m!==void 0?m:{},...c}}}),[]),M=a.useCallback(i=>{v(c=>({...c,[i]:void 0})),s(c=>({...c,[i]:{}}))},[]),[h,C]=a.useState({}),x=a.useCallback(i=>{var c;return(c=h[i])!==null&&c!==void 0?c:[]},[h]),g=a.useCallback((i,c)=>{C(d=>{var m;return{...d,[i]:[...(m=d[i])!==null&&m!==void 0?m:[],c]}})},[]),y=a.useCallback((i,c)=>{C(d=>{var m;return{...d,[i]:((m=d[i])!==null&&m!==void 0?m:[]).filter(P=>P.id!==c)}})},[]),[I,s]=a.useState({}),$=a.useCallback(i=>{var c;return(c=I[i])!==null&&c!==void 0?c:{}},[I]),E=a.useCallback((i,c)=>{s(d=>{var m;return{...d,[i]:{...(m=d[i])!==null&&m!==void 0?m:{},...c}}})},[]),[A,w]=a.useState({}),U=a.useCallback((i,c)=>{w(d=>{const m=new Set(d[i]).add(c);return{...d,[i]:m}})},[]),L=a.useCallback((i,c)=>{w(d=>{const m=new Set(d[i]);return m.delete(c),{...d,[i]:m}})},[]),q=a.useCallback(i=>{var c;return Array.from((c=A[i])!==null&&c!==void 0?c:[]).join(" ")||void 0},[A]);return a.createElement(_e,{scope:t,getFieldValidity:p,onFieldValidityChange:F,getFieldCustomMatcherEntries:x,onFieldCustomMatcherEntryAdd:g,onFieldCustomMatcherEntryRemove:y,getFieldCustomErrors:$,onFieldCustomErrorsChange:E,onFieldValiditionClear:M},a.createElement(Ce,{scope:t,onFieldMessageIdAdd:U,onFieldMessageIdRemove:L,getFieldDescription:q},a.createElement(R.form,_({},n,{ref:f,onInvalid:T(e.onInvalid,i=>{const c=ce(i.currentTarget);c===i.target&&c.focus(),i.preventDefault()}),onSubmit:T(e.onSubmit,r,{checkForDefaultPrevented:!1}),onReset:T(e.onReset,r)}))))}),ie="FormField",[Fe,j]=H(ie),ge=a.forwardRef((e,o)=>{const{__scopeForm:t,name:r,serverInvalid:n=!1,...l}=e,u=S(ie,t).getFieldValidity(r),v=G();return a.createElement(Fe,{scope:t,id:v,name:r,serverInvalid:n},a.createElement(R.div,_({"data-valid":Y(u,n),"data-invalid":J(u,n)},l,{ref:o})))}),Q="FormLabel",Ee=a.forwardRef((e,o)=>{const{__scopeForm:t,...r}=e,n=S(Q,t),l=j(Q,t),f=r.htmlFor||l.id,u=n.getFieldValidity(l.name);return a.createElement(he,_({"data-valid":Y(u,l.serverInvalid),"data-invalid":J(u,l.serverInvalid)},r,{ref:o,htmlFor:f}))}),B="FormControl",be=a.forwardRef((e,o)=>{const{__scopeForm:t,...r}=e,n=S(B,t),l=j(B,t),f=se(B,t),u=a.useRef(null),v=z(o,u),p=r.name||l.name,F=r.id||l.id,M=n.getFieldCustomMatcherEntries(p),{onFieldValidityChange:h,onFieldCustomErrorsChange:C,onFieldValiditionClear:x}=n,g=a.useCallback(async s=>{if(le(s.validity)){const d=O(s.validity);h(p,d);return}const $=s.form?new FormData(s.form):new FormData,E=[s.value,$],A=[],w=[];M.forEach(d=>{Te(d,E)?w.push(d):De(d)&&A.push(d)});const U=A.map(({id:d,match:m})=>[d,m(...E)]),L=Object.fromEntries(U),q=Object.values(L).some(Boolean),i=q;s.setCustomValidity(i?D:"");const c=O(s.validity);if(h(p,c),C(p,L),!q&&w.length>0){const d=w.map(({id:ue,match:fe})=>fe(...E).then(pe=>[ue,pe])),m=await Promise.all(d),P=Object.fromEntries(m),de=Object.values(P).some(Boolean);s.setCustomValidity(de?D:"");const me=O(s.validity);h(p,me),C(p,P)}},[M,p,C,h]);a.useEffect(()=>{const s=u.current;if(s){const $=()=>g(s);return s.addEventListener("change",$),()=>s.removeEventListener("change",$)}},[g]);const y=a.useCallback(()=>{const s=u.current;s&&(s.setCustomValidity(""),x(p))},[p,x]);a.useEffect(()=>{var s;const $=(s=u.current)===null||s===void 0?void 0:s.form;if($)return $.addEventListener("reset",y),()=>$.removeEventListener("reset",y)},[y]),a.useEffect(()=>{const s=u.current,$=s==null?void 0:s.closest("form");if($&&l.serverInvalid){const E=ce($);E===s&&E.focus()}},[l.serverInvalid]);const I=n.getFieldValidity(p);return a.createElement(R.input,_({"data-valid":Y(I,l.serverInvalid),"data-invalid":J(I,l.serverInvalid),"aria-invalid":l.serverInvalid?!0:void 0,"aria-describedby":f.getFieldDescription(p),title:""},r,{ref:v,id:F,name:p,onInvalid:T(e.onInvalid,s=>{const $=s.currentTarget;g($)}),onChange:T(e.onChange,s=>{y()})}))}),D="This value is not valid",xe={badInput:D,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},k="FormMessage",Me=a.forwardRef((e,o)=>{const{match:t,name:r,...n}=e,l=j(k,e.__scopeForm),f=r??l.name;return t===void 0?a.createElement(K,_({},n,{ref:o,name:f}),e.children||D):typeof t=="function"?a.createElement(we,_({match:t},n,{ref:o,name:f})):a.createElement(Ie,_({match:t},n,{ref:o,name:f}))}),Ie=a.forwardRef((e,o)=>{const{match:t,forceMatch:r=!1,name:n,children:l,...f}=e,v=S(k,f.__scopeForm).getFieldValidity(n);return r||(v==null?void 0:v[t])?a.createElement(K,_({ref:o},f,{name:n}),l??xe[t]):null}),we=a.forwardRef((e,o)=>{const{match:t,forceMatch:r=!1,name:n,id:l,children:f,...u}=e,v=S(k,u.__scopeForm),p=a.useRef(null),F=z(o,p),M=G(),h=l??M,C=a.useMemo(()=>({id:h,match:t}),[h,t]),{onFieldCustomMatcherEntryAdd:x,onFieldCustomMatcherEntryRemove:g}=v;a.useEffect(()=>(x(n,C),()=>g(n,C.id)),[C,n,x,g]);const y=v.getFieldValidity(n),s=v.getFieldCustomErrors(n)[h];return r||y&&!le(y)&&s?a.createElement(K,_({id:h,ref:F},u,{name:n}),f??D):null}),K=a.forwardRef((e,o)=>{const{__scopeForm:t,id:r,name:n,...l}=e,f=se(k,t),u=G(),v=r??u,{onFieldMessageIdAdd:p,onFieldMessageIdRemove:F}=f;return a.useEffect(()=>(p(n,v),()=>F(n,v)),[n,v,p,F]),a.createElement(R.span,_({id:v},l,{ref:o}))}),W="FormValidityState",Ve=e=>{const{__scopeForm:o,name:t,children:r}=e,n=S(W,o),l=j(W,o),f=t??l.name,u=n.getFieldValidity(f);return a.createElement(a.Fragment,null,r(u))},Re=a.forwardRef((e,o)=>{const{__scopeForm:t,...r}=e;return a.createElement(R.button,_({type:"submit"},r,{ref:o}))});function O(e){const o={};for(const t in e)o[t]=e[t];return o}function Se(e){return e instanceof HTMLElement}function Ne(e){return"validity"in e}function Ae(e){return Ne(e)&&(e.validity.valid===!1||e.getAttribute("aria-invalid")==="true")}function ce(e){const o=e.elements,[t]=Array.from(o).filter(Se).filter(Ae);return t}function Te(e,o){return e.match.constructor.name==="AsyncFunction"||Le(e.match,o)}function De(e){return e.match.constructor.name==="Function"}function Le(e,o){return e(...o)instanceof Promise}function le(e){let o=!1;for(const t in e){const r=t;if(r!=="valid"&&r!=="customError"&&e[r]){o=!0;break}}return o}function Y(e,o){if((e==null?void 0:e.valid)===!0&&!o)return!0}function J(e,o){if((e==null?void 0:e.valid)===!1||o)return!0}const qe=ye,Pe=ge,je=Ee,ke=be,Ue=Me,Be=Ve,Oe=Re,ze="_root_1eiqo_23",Ge="_field_1eiqo_32",He="_label_1eiqo_41",Ke="_control_1eiqo_55",N={root:ze,field:Ge,label:He,control:Ke},X=a.forwardRef(function({children:o,...t},r){const n=V(N.root,t.className);return b.jsx(qe,{ref:r,...t,className:n,children:o})});try{X.displayName="Root",X.__docgenInfo={description:`Thin wrapper around Radix UI Root component
https://www.radix-ui.com/docs/primitives/components/form#root`,displayName:"Root",props:{className:{defaultValue:null,description:"The CSS class name.",name:"className",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const Z=a.forwardRef(function({children:o,...t},r){const n=V(N.field,t.className);return b.jsx(Pe,{ref:r,...t,className:n,children:o})});try{Z.displayName="Field",Z.__docgenInfo={description:`Thin wrapper around Radix UI Field component
https://www.radix-ui.com/docs/primitives/components/form#field`,displayName:"Field",props:{className:{defaultValue:null,description:"The CSS class name.",name:"className",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const ee=a.forwardRef(function({children:o,...t},r){const n=V(N.label,t.className);return b.jsx(je,{ref:r,...t,className:n,children:o})});try{ee.displayName="Label",ee.__docgenInfo={description:`Thin wrapper around Radix UI Label component
https://www.radix-ui.com/docs/primitives/components/form#label`,displayName:"Label",props:{className:{defaultValue:null,description:"The CSS class name.",name:"className",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const te=a.forwardRef(function({children:o,...t},r){const n=V(N.control,t.className);return b.jsx(ke,{ref:r,...t,className:n,children:o})});try{te.displayName="Control",te.__docgenInfo={description:`Thin wrapper around Radix UI Control component
https://www.radix-ui.com/docs/primitives/components/form#control`,displayName:"Control",props:{className:{defaultValue:null,description:"The CSS class name.",name:"className",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const ae=a.forwardRef(function({children:o,...t},r){const n=V(N.message,t.className);return b.jsx(Ue,{ref:r,...t,className:n,children:o})});try{ae.displayName="Message",ae.__docgenInfo={description:`Thin wrapper around Radix UI Message component
https://www.radix-ui.com/docs/primitives/components/form#message`,displayName:"Message",props:{className:{defaultValue:null,description:"The CSS class name.",name:"className",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const oe=({children:e,...o})=>b.jsx(Be,{...o,children:e});try{oe.displayName="ValidityState",oe.__docgenInfo={description:`Thin wrapper around Radix UI ValidityState component
https://www.radix-ui.com/docs/primitives/components/form#validitystate`,displayName:"ValidityState",props:{__scopeForm:{defaultValue:null,description:"",name:"__scopeForm",required:!1,type:{name:"Scope"}}}}}catch{}const re=({children:e,size:o,...t})=>{const r=V(N.submit,t.className);return b.jsx(Oe,{...t,asChild:!0,children:b.jsx($e,{type:"submit",size:o,className:r,children:e})})};try{re.displayName="Submit",re.__docgenInfo={description:`Thin wrapper around Radix UI Submit component
https://www.radix-ui.com/docs/primitives/components/form#submit`,displayName:"Submit",props:{className:{defaultValue:null,description:"The CSS class name.",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:null,description:"The t-shirt size of the submit button.",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'}]}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{ye as $,te as C,Z as F,ee as L,X as R,re as S,N as f};
//# sourceMappingURL=Submit-cf0520d2.js.map
