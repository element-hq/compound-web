{"version":3,"file":"preview-14a25db5.js","sources":["../../node_modules/@storybook/addon-themes/dist/index.mjs","../../.storybook/preview.ts"],"sourcesContent":["import { __export, GLOBAL_KEY, PARAM_KEY, DEFAULT_THEME_PARAMETERS, THEMING_EVENTS } from './chunk-5PKFUQBM.mjs';\nimport { useParameter, addons, useEffect, useMemo } from '@storybook/preview-api';\nimport React from 'react';\n\nvar helpers_exports={};__export(helpers_exports,{initializeThemeState:()=>initializeThemeState,pluckThemeFromContext:()=>pluckThemeFromContext,useThemeParameters:()=>useThemeParameters});function pluckThemeFromContext({globals}){return globals[GLOBAL_KEY]||\"\"}function useThemeParameters(){return useParameter(PARAM_KEY,DEFAULT_THEME_PARAMETERS)}function initializeThemeState(themeNames,defaultTheme){addons.getChannel().emit(THEMING_EVENTS.REGISTER_THEMES,{defaultTheme,themes:themeNames});}var DEFAULT_ELEMENT_SELECTOR=\"html\",classStringToArray=classString=>classString.split(\" \").filter(Boolean),withThemeByClassName=({themes,defaultTheme,parentSelector=DEFAULT_ELEMENT_SELECTOR})=>(initializeThemeState(Object.keys(themes),defaultTheme),(storyFn,context)=>{let{themeOverride}=useThemeParameters(),selected=pluckThemeFromContext(context);return useEffect(()=>{let selectedThemeName=themeOverride||selected||defaultTheme,parentElement=document.querySelector(parentSelector);if(!parentElement)return;Object.entries(themes).filter(([themeName])=>themeName!==selectedThemeName).forEach(([themeName,className])=>{let classes=classStringToArray(className);classes.length>0&&parentElement.classList.remove(...classes);});let newThemeClasses=classStringToArray(themes[selectedThemeName]);newThemeClasses.length>0&&parentElement.classList.add(...newThemeClasses);},[themeOverride,selected,parentSelector]),storyFn()});var DEFAULT_ELEMENT_SELECTOR2=\"html\",DEFAULT_DATA_ATTRIBUTE=\"data-theme\",withThemeByDataAttribute=({themes,defaultTheme,parentSelector=DEFAULT_ELEMENT_SELECTOR2,attributeName=DEFAULT_DATA_ATTRIBUTE})=>(initializeThemeState(Object.keys(themes),defaultTheme),(storyFn,context)=>{let{themeOverride}=useThemeParameters(),selected=pluckThemeFromContext(context);return useEffect(()=>{let parentElement=document.querySelector(parentSelector),themeKey=themeOverride||selected||defaultTheme;parentElement&&parentElement.setAttribute(attributeName,themes[themeKey]);},[themeOverride,selected,parentSelector,attributeName]),storyFn()});var pluckThemeFromKeyPairTuple=([_,themeConfig])=>themeConfig,withThemeFromJSXProvider=({Provider,GlobalStyles,defaultTheme,themes={}})=>{let themeNames=Object.keys(themes),initialTheme=defaultTheme||themeNames[0];return initializeThemeState(themeNames,initialTheme),(storyFn,context)=>{let{themeOverride}=useThemeParameters(),selected=pluckThemeFromContext(context),theme=useMemo(()=>{let selectedThemeName=themeOverride||selected||initialTheme,pairs=Object.entries(themes);return pairs.length===1?pluckThemeFromKeyPairTuple(pairs[0]):themes[selectedThemeName]},[themes,selected,themeOverride]);return Provider?React.createElement(Provider,{theme},GlobalStyles&&React.createElement(GlobalStyles,null),storyFn()):React.createElement(React.Fragment,null,GlobalStyles&&React.createElement(GlobalStyles,null),storyFn())}};var src_default={};\n\nexport { helpers_exports as DecoratorHelpers, src_default as default, withThemeByClassName, withThemeByDataAttribute, withThemeFromJSXProvider };\n","import { withThemeByClassName } from \"@storybook/addon-themes\";\nimport { Decorator, Parameters } from \"@storybook/react\";\n\nimport \"@fontsource/inconsolata/700.css\";\nimport \"@fontsource/inter/400.css\";\nimport \"@fontsource/inter/500.css\";\nimport \"@fontsource/inter/600.css\";\nimport \"@fontsource/inter/700.css\";\nimport \"@vector-im/compound-design-tokens/assets/web/css/compound-design-tokens.css\";\nimport \"../src/styles/global.css\";\n\nexport const parameters: Parameters = {\n  actions: { argTypesRegex: \"^on[A-Z].*\" },\n  controls: {\n    matchers: {\n      color: /(background|color)$/i,\n      date: /Date$/,\n    },\n  },\n  backgrounds: { disable: true },\n};\n\nexport const decorators: Decorator[] = [\n  withThemeByClassName({\n    themes: {\n      light: \"cpd-theme-light\",\n      dark: \"cpd-theme-dark\",\n      \"light-high-contrast\": \"cpd-theme-light-hc\",\n      \"dark-high-contrast\": \"cpd-theme-dark-hc\",\n    },\n    defaultTheme: \"light\",\n  }),\n];\n"],"names":["useParameter","addons","useEffect","useMemo","helpers_exports","__export","initializeThemeState","pluckThemeFromContext","useThemeParameters","globals","GLOBAL_KEY","PARAM_KEY","DEFAULT_THEME_PARAMETERS","themeNames","defaultTheme","THEMING_EVENTS","DEFAULT_ELEMENT_SELECTOR","classStringToArray","classString","withThemeByClassName","themes","parentSelector","storyFn","context","themeOverride","selected","selectedThemeName","parentElement","themeName","className","classes","newThemeClasses","parameters","decorators"],"mappings":"gJACA,KAAA,CAAA,aAAAA,EAAA,OAAAC,EAAA,UAAAC,EAAA,QAAAC,CAAA,EAAA,iCAGA,IAAIC,EAAgB,CAAE,EAACC,EAASD,EAAgB,CAAC,qBAAqB,IAAIE,EAAqB,sBAAsB,IAAIC,EAAsB,mBAAmB,IAAIC,CAAkB,CAAC,EAAE,SAASD,EAAsB,CAAC,QAAAE,CAAO,EAAE,CAAC,OAAOA,EAAQC,CAAU,GAAG,EAAE,CAAC,SAASF,GAAoB,CAAC,OAAOR,EAAaW,EAAUC,CAAwB,CAAC,CAAC,SAASN,EAAqBO,EAAWC,EAAa,CAACb,EAAO,WAAY,EAAC,KAAKc,EAAe,gBAAgB,CAAC,aAAAD,EAAa,OAAOD,CAAU,CAAC,CAAE,CAAC,IAAIG,EAAyB,OAAOC,EAAmBC,GAAaA,EAAY,MAAM,GAAG,EAAE,OAAO,OAAO,EAAEC,EAAqB,CAAC,CAAC,OAAAC,EAAO,aAAAN,EAAa,eAAAO,EAAeL,CAAwB,KAAKV,EAAqB,OAAO,KAAKc,CAAM,EAAEN,CAAY,EAAE,CAACQ,EAAQC,IAAU,CAAC,GAAG,CAAC,cAAAC,CAAa,EAAEhB,EAAoB,EAACiB,EAASlB,EAAsBgB,CAAO,EAAE,OAAOrB,EAAU,IAAI,CAAC,IAAIwB,EAAkBF,GAAeC,GAAUX,EAAaa,EAAc,SAAS,cAAcN,CAAc,EAAE,GAAG,CAACM,EAAc,OAAO,OAAO,QAAQP,CAAM,EAAE,OAAO,CAAC,CAACQ,CAAS,IAAIA,IAAYF,CAAiB,EAAE,QAAQ,CAAC,CAACE,EAAUC,CAAS,IAAI,CAAC,IAAIC,EAAQb,EAAmBY,CAAS,EAAEC,EAAQ,OAAO,GAAGH,EAAc,UAAU,OAAO,GAAGG,CAAO,CAAE,CAAC,EAAE,IAAIC,EAAgBd,EAAmBG,EAAOM,CAAiB,CAAC,EAAEK,EAAgB,OAAO,GAAGJ,EAAc,UAAU,IAAI,GAAGI,CAAe,CAAE,EAAE,CAACP,EAAcC,EAASJ,CAAc,CAAC,EAAEC,EAAO,CAAE,GCO13C,MAAMU,EAAyB,CACpC,QAAS,CAAE,cAAe,YAAa,EACvC,SAAU,CACR,SAAU,CACR,MAAO,uBACP,KAAM,OACR,CACF,EACA,YAAa,CAAE,QAAS,EAAK,CAC/B,EAEaC,EAA0B,CACrCd,EAAqB,CACnB,OAAQ,CACN,MAAO,kBACP,KAAM,iBACN,sBAAuB,qBACvB,qBAAsB,mBACxB,EACA,aAAc,OAAA,CACf,CACH","x_google_ignoreList":[0]}