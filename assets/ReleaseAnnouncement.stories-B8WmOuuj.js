import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-BKyFwriW.js";import{u as A,b as j,g as k,h as C,a as V,i as E,k as N,j as F}from"./floating-ui.react-CUHBVVHR.js";import{T as R}from"./Text-CMco4h67.js";import{o as I,s as M,l as L,m as P,n as S}from"./floating-ui.react-dom-6ZVBEX4r.js";import{B as T}from"./Button-F_dPoep3.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-D77-yIvl.js";import"./index-DQw2Bw4b.js";import"./Typography-Cv3Gp6a_.js";import"./index-FGJkmGnF.js";import"./UnstyledButton-CpKE2ZH4.js";const B="_content_3xq91_8",O="_header_3xq91_37",H="_description_3xq91_43",W="_button_3xq91_48",z="_arrow_3xq91_53",l={content:B,header:O,description:H,button:W,arrow:z},q=s.createContext(null);function v(){const e=s.useContext(q);if(e==null)throw new Error("ReleaseAnnouncement components must be wrapped in <ReleaseAnnouncement />");return e}function g({open:e,header:t,description:a,closeLabel:r,placement:o,onClick:i,displayArrow:p}){const y=A(),x=A(),h=s.useRef(null),f=j({placement:o,open:e,whileElementsMounted:P,middleware:[I(16),M({limiter:S({offset:50})}),p&&L({element:h})]}),w=k(f.context),_=C([w]);return s.useMemo(()=>({open:e,...f,..._,labelId:y,descriptionId:x,header:t,description:a,closeLabel:r,onClick:i,displayArrow:p,arrowRef:h}),[e,w,_,f,y,x,t,a,r,i,p,h])}try{g.displayName="useReleaseAnnouncement",g.__docgenInfo={description:"This hook provides the necessary props to create a release announcement.",displayName:"useReleaseAnnouncement",props:{open:{defaultValue:null,description:"Whether the release announcement is open.",name:"open",required:!0,type:{name:"boolean"}},header:{defaultValue:null,description:"The header of the release announcement.",name:"header",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"The description of the release announcement.",name:"description",required:!0,type:{name:"string"}},closeLabel:{defaultValue:null,description:"The label of the close button.",name:"closeLabel",required:!0,type:{name:"string"}},placement:{defaultValue:null,description:"The placement of the release announcement.",name:"placement",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},onClick:{defaultValue:null,description:"The event handler for the close button.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},displayArrow:{defaultValue:null,description:"Whether to display an arrow.",name:"displayArrow",required:!1,type:{name:"boolean"}}}}}catch{}function b({children:e,placement:t="right",displayArrow:a=!0,...r}){const o=g({placement:t,displayArrow:a,...r});return n.jsxs(q.Provider,{value:o,children:[n.jsx(D,{children:e}),n.jsx(K,{children:n.jsx(U,{})})]})}function D({children:e}){const t=v(),a=e?.ref,r=V([t.refs.setReference,a]);if(!s.isValidElement(e))throw new Error("ReleaseAnnouncement anchor must be a single valid React element");return s.cloneElement(e,t.getReferenceProps({ref:r,...t.open&&{"aria-describedby":t.getFloatingProps().id}}))}function K({children:e}){const{context:t,arrowRef:a,displayArrow:r,...o}=v();return t.open?n.jsx(E,{children:n.jsx(N,{context:t,modal:!1,children:n.jsxs("div",{ref:o.refs.setFloating,style:o.floatingStyles,"aria-labelledby":o.labelId,"aria-describedby":o.descriptionId,...o.getFloatingProps(),className:l.content,children:[r&&n.jsx(F,{ref:a,context:t,width:20,height:12,className:l.arrow}),e]})})}):null}function U(){const{labelId:e,descriptionId:t,header:a,description:r,closeLabel:o,onClick:i}=v();return n.jsxs(n.Fragment,{children:[n.jsx(R,{as:"h3",id:e,className:l.header,size:"lg",weight:"semibold",children:a}),n.jsx(R,{as:"span",id:t,className:l.description,size:"sm",weight:"regular",children:r}),n.jsx(T,{size:"sm",kind:"secondary",className:l.button,onClick:i,children:o})]})}try{b.displayName="ReleaseAnnouncement",b.__docgenInfo={description:`The ReleaseAnnouncement component purpose is to inform the user of a new available feature.
This component is a floating component that will appear next to an anchor.`,displayName:"ReleaseAnnouncement",props:{placement:{defaultValue:{value:"right"},description:"The placement of the component",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},displayArrow:{defaultValue:{value:"true"},description:"Whether to display an arrow.",name:"displayArrow",required:!1,type:{name:"boolean"}},header:{defaultValue:null,description:"The header of the release announcement.",name:"header",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"The event handler for the close button.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},open:{defaultValue:null,description:"Whether the release announcement is open.",name:"open",required:!0,type:{name:"boolean"}},description:{defaultValue:null,description:"The description of the release announcement.",name:"description",required:!0,type:{name:"string"}},closeLabel:{defaultValue:null,description:"The label of the close button.",name:"closeLabel",required:!0,type:{name:"string"}}}}}catch{}const $=e=>{const[t,a]=s.useState(!0);return n.jsx(b,{...e,open:t,onClick:()=>a(!1),children:n.jsx(T,{onClick:()=>a(r=>!r),children:"Open menu"})})},se={title:"Release Announcement",component:$,tags:["autodocs"],argTypes:{},args:{header:"Notifications have moved",description:"From now on, click the icon here to view your notifications.",placement:"right",closeLabel:"Ok"}},c={args:{}},u={args:{header:"A multi line header which is taking multiple lines",description:"A multi line description which is taking multiple lines. The OK button should be vertically centred."}},d={args:{placement:"bottom"}},m={args:{displayArrow:!1}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...c.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  args: {
    header: "A multi line header which is taking multiple lines",
    description: "A multi line description which is taking multiple lines. The OK button should be vertically centred."
  }
}`,...u.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  args: {
    placement: "bottom"
  }
}`,...d.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    displayArrow: false
  }
}`,...m.parameters?.docs?.source}}};const le=["Default","MultiLinesContent","BottomPlacement","NoArrow"];export{d as BottomPlacement,c as Default,u as MultiLinesContent,m as NoArrow,le as __namedExportsOrder,se as default};
