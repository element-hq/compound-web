import{j as t}from"./jsx-runtime-C-_spy54.js";import{U as T}from"./user-profile-BIP1CzuL.js";import{N as k,C as G,L as D}from"./notifications-CEjmnq_2.js";import{r as s}from"./index-aRQRyZp7.js";import{c as h}from"./index-o5-GOTuW.js";import{c as U}from"./index-BswOdLOb.js";import{P as L}from"./index-CB9j0N0z.js";import{c as S,u as F,R as q,P as B,C as V,I as W,A as $,G as z,L as X,a as H,b as K,d as Y,e as J,S as Q,f as Z,g as ee,h as te,D as C}from"./index-CN37HcF1.js";import{F as ne}from"./FloatingMenu-BW8Jh6NU.js";import{c as oe}from"./index-DUolvyrz.js";import{d as re,D as ae,g as se}from"./DrawerMenu-DageQTRI.js";import{a as ie,M as g}from"./MenuItem-fu5fH6Cy.js";import{S as ce}from"./Separator-B-B8YN3n.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-C8hZlW-7.js";import"./index-BWu37rA2.js";import"./floating-ui.react-DdrfVbJq.js";import"./MenuTitle-Cjdj_pox.js";import"./Text-B8nWEeLF.js";import"./Typography-Sq-9FTuv.js";import"./chevron-right-BVzB4aIM.js";var _="ContextMenu",[ue,at]=U(_,[S]),c=S(),[le,I]=ue(_),y=e=>{const{__scopeContextMenu:n,children:r,onOpenChange:o,dir:a,modal:p=!0}=e,[l,i]=s.useState(!1),f=c(n),m=F(o),u=s.useCallback(x=>{i(x),m(x)},[m]);return t.jsx(le,{scope:n,open:l,onOpenChange:u,modal:p,children:t.jsx(q,{...f,dir:a,open:l,onOpenChange:u,modal:p,children:r})})};y.displayName=_;var N="ContextMenuTrigger",w=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,disabled:o=!1,...a}=e,p=I(N,r),l=c(r),i=s.useRef({x:0,y:0}),f=s.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...i.current})}),m=s.useRef(0),u=s.useCallback(()=>window.clearTimeout(m.current),[]),x=d=>{i.current={x:d.clientX,y:d.clientY},p.onOpenChange(!0)};return s.useEffect(()=>u,[u]),s.useEffect(()=>void(o&&u()),[o,u]),t.jsxs(t.Fragment,{children:[t.jsx($,{...l,virtualRef:f}),t.jsx(L.span,{"data-state":p.open?"open":"closed","data-disabled":o?"":void 0,...a,ref:n,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:o?e.onContextMenu:h(e.onContextMenu,d=>{u(),x(d),d.preventDefault()}),onPointerDown:o?e.onPointerDown:h(e.onPointerDown,M(d=>{u(),m.current=window.setTimeout(()=>x(d),700)})),onPointerMove:o?e.onPointerMove:h(e.onPointerMove,M(u)),onPointerCancel:o?e.onPointerCancel:h(e.onPointerCancel,M(u)),onPointerUp:o?e.onPointerUp:h(e.onPointerUp,M(u))})]})});w.displayName=N;var de="ContextMenuPortal",j=e=>{const{__scopeContextMenu:n,...r}=e,o=c(n);return t.jsx(B,{...o,...r})};j.displayName=de;var A="ContextMenuContent",E=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=I(A,r),p=c(r),l=s.useRef(!1);return t.jsx(V,{...p,...o,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),!i.defaultPrevented&&l.current&&i.preventDefault(),l.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),!i.defaultPrevented&&!a.modal&&(l.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E.displayName=A;var pe="ContextMenuGroup",me=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(z,{...a,...o,ref:n})});me.displayName=pe;var xe="ContextMenuLabel",fe=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(X,{...a,...o,ref:n})});fe.displayName=xe;var he="ContextMenuItem",O=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(W,{...a,...o,ref:n})});O.displayName=he;var Ce="ContextMenuCheckboxItem",ge=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(H,{...a,...o,ref:n})});ge.displayName=Ce;var Me="ContextMenuRadioGroup",ve=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(K,{...a,...o,ref:n})});ve.displayName=Me;var be="ContextMenuRadioItem",_e=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(Y,{...a,...o,ref:n})});_e.displayName=be;var Re="ContextMenuItemIndicator",Pe=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(J,{...a,...o,ref:n})});Pe.displayName=Re;var Se="ContextMenuSeparator",Ie=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(Q,{...a,...o,ref:n})});Ie.displayName=Se;var ye="ContextMenuArrow",Ne=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(Z,{...a,...o,ref:n})});Ne.displayName=ye;var we="ContextMenuSubTrigger",je=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(ee,{...a,...o,ref:n})});je.displayName=we;var Ae="ContextMenuSubContent",Ee=s.forwardRef((e,n)=>{const{__scopeContextMenu:r,...o}=e,a=c(r);return t.jsx(te,{...a,...o,ref:n,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ee.displayName=Ae;function M(e){return n=>n.pointerType!=="mouse"?e(n):void 0}var P=y,Oe=w,Te=j,ke=E;const Ge=({onSelect:e,children:n})=>t.jsx(O,{onSelect:e??void 0,asChild:!0,children:n}),b=({title:e,onOpenChange:n,trigger:r,hasAccessibleAlternative:o,children:a})=>{const[p,l]=s.useState(!1),i=s.useCallback(R=>{l(R),n?.(R)},[l,n]),f=se(),m=f==="android"||f==="ios",u=s.useMemo(()=>({MenuItemWrapper:m?null:Ge,onOpenChange:i}),[i]),x=t.jsx(ie.Provider,{value:u,children:a}),d=t.jsx(Oe,{"aria-haspopup":"menu",tabIndex:o?void 0:0,asChild:!0,children:r});return m?t.jsxs(t.Fragment,{children:[t.jsx(P,{onOpenChange:i,children:d}),t.jsx(C.Root,{open:p,onOpenChange:i,children:t.jsxs(C.Portal,{children:[t.jsx(C.Overlay,{className:oe(re.bg)}),t.jsx(C.Content,{asChild:!0,children:t.jsx(ae,{title:e,children:x})})]})})]}):t.jsxs(P,{onOpenChange:i,children:[d,t.jsx(Te,{children:t.jsx(ke,{asChild:!0,children:t.jsx(ne,{title:e,children:x})})})]})};try{b.displayName="ContextMenu",b.__docgenInfo={description:"A menu opened by right-clicking or long-pressing another UI element.",displayName:"ContextMenu",props:{title:{defaultValue:null,description:"The menu title.",name:"title",required:!0,type:{name:"string"}},onOpenChange:{defaultValue:null,description:"Event handler called when the open state of the menu changes.",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void)"}},trigger:{defaultValue:null,description:`The trigger that can be right-clicked or long-pressed to open the menu.
This must be a component that accepts a ref and spreads props.
https://www.radix-ui.com/primitives/docs/guides/composition`,name:"trigger",required:!0,type:{name:"ReactNode"}},hasAccessibleAlternative:{defaultValue:null,description:`Whether the functionality of this menu is available through some other
keyboard-accessible means. Preferably this should be true, because context
menus are potentially difficult to discover, but if false the trigger will
become focusable so that it can be opened via keyboard navigation.`,name:"hasAccessibleAlternative",required:!0,type:{name:"boolean"}},children:{defaultValue:null,description:"The menu contents.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const De=e=>t.jsxs(b,{...e,title:"Settings",trigger:t.jsx("div",{style:{borderRadius:24,background:"var(--cpd-color-bg-subtle-secondary)",inlineSize:300,blockSize:200,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",padding:32,boxSizing:"border-box"},children:"Right click or long press to open menu"}),hasAccessibleAlternative:!1,children:[t.jsx(g,{Icon:T,label:"Profile",onSelect:()=>{}}),t.jsx(g,{Icon:k,label:"Notifications",onSelect:()=>{}}),t.jsx(g,{Icon:G,label:"Feedback",onSelect:()=>{}}),t.jsx(ce,{}),t.jsx(g,{kind:"critical",Icon:D,label:"Sign out",onSelect:()=>{}})]}),st={title:"Menu/ContextMenu",component:De,tags:["autodocs"],argTypes:{},args:{}},v={args:{}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...v.parameters?.docs?.source}}};const it=["ContextMenu"];export{v as ContextMenu,it as __namedExportsOrder,st as default};
