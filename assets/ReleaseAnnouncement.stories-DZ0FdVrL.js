import{j as t}from"./jsx-runtime-CexXSJP5.js";import{r as s}from"./index-BP8_t0zE.js";import{u as w,b as T,j,k as V,c as q,o as B,s as E,n as N,d as S,a as F,l as I,p as M,m as L}from"./floating-ui.react-Cq_2y1sM.js";import{T as C}from"./Text-BgCCN_GG.js";import{B as k}from"./Button-C0_Ps78g.js";import"./index-BlTQwN6S.js";import"./Typography-DuHxGDyc.js";import"./index-CSpfAsmC.js";import"./UnstyledButton-C9fNLva5.js";const P="_content_1oa1y_17",H="_header_1oa1y_46",W="_description_1oa1y_52",z="_button_1oa1y_57",D="_arrow_1oa1y_62",p={content:P,header:H,description:W,button:z,arrow:D},O=s.createContext(null);function v(){const e=s.useContext(O);if(e==null)throw new Error("ReleaseAnnouncement components must be wrapped in <ReleaseAnnouncement />");return e}function y({open:e,header:n,description:o,closeLabel:a,placement:r,onClick:m,displayArrow:f}){const _=w(),A=w(),g=s.useRef(null),b=T({placement:r,open:e,whileElementsMounted:q,middleware:[B(16),E({limiter:N({offset:50})}),f&&S({element:g})]}),R=j(b.context),x=V([R]);return s.useMemo(()=>({open:e,...b,...x,labelId:_,descriptionId:A,header:n,description:o,closeLabel:a,onClick:m,displayArrow:f,arrowRef:g}),[e,R,x,b,_,A,n,o,a,m,f,g])}try{y.displayName="useReleaseAnnouncement",y.__docgenInfo={description:"This hook provides the necessary props to create a release announcement.",displayName:"useReleaseAnnouncement",props:{open:{defaultValue:null,description:"Whether the release announcement is open.",name:"open",required:!0,type:{name:"boolean"}},header:{defaultValue:null,description:"The header of the release announcement.",name:"header",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"The description of the release announcement.",name:"description",required:!0,type:{name:"string"}},closeLabel:{defaultValue:null,description:"The label of the close button.",name:"closeLabel",required:!0,type:{name:"string"}},placement:{defaultValue:null,description:"The placement of the release announcement.",name:"placement",required:!0,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},onClick:{defaultValue:null,description:"The event handler for the close button.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},displayArrow:{defaultValue:null,description:"Whether to display an arrow.",name:"displayArrow",required:!1,type:{name:"boolean"}}}}}catch{}function d({children:e,placement:n="right",displayArrow:o=!0,...a}){const r=y({placement:n,displayArrow:o,...a});return t.jsxs(O.Provider,{value:r,children:[t.jsx(K,{children:e}),t.jsx(U,{children:t.jsx($,{})})]})}function K({children:e}){const n=v(),o=e?.ref,a=F([n.refs.setReference,o]);if(!s.isValidElement(e))throw new Error("ReleaseAnnouncement anchor must be a single valid React element");return s.cloneElement(e,n.getReferenceProps({ref:a,...e.props,...n.open&&{"aria-describedby":n.getFloatingProps().id}}))}function U({children:e}){const{context:n,arrowRef:o,displayArrow:a,...r}=v();return n.open?t.jsx(I,{children:t.jsx(M,{context:n,modal:!1,children:t.jsxs("div",{ref:r.refs.setFloating,style:r.floatingStyles,"aria-labelledby":r.labelId,"aria-describedby":r.descriptionId,...r.getFloatingProps(),className:p.content,children:[a&&t.jsx(L,{ref:o,context:n,width:20,height:12,className:p.arrow}),e]})})}):null}function $(){const{labelId:e,descriptionId:n,header:o,description:a,closeLabel:r,onClick:m}=v();return t.jsxs(t.Fragment,{children:[t.jsx(C,{as:"h3",id:e,className:p.header,size:"lg",weight:"semibold",children:o}),t.jsx(C,{as:"span",id:n,className:p.description,size:"sm",weight:"regular",children:a}),t.jsx(k,{size:"sm",kind:"secondary",className:p.button,onClick:m,children:r})]})}try{d.displayName="ReleaseAnnouncement",d.__docgenInfo={description:`The ReleaseAnnouncement component purpose is to inform the user of a new available feature.
This component is a floating component that will appear next to an anchor.`,displayName:"ReleaseAnnouncement",props:{placement:{defaultValue:{value:"right"},description:"The placement of the component",name:"placement",required:!1,type:{name:"enum",value:[{value:'"left"'},{value:'"right"'},{value:'"bottom"'},{value:'"top"'},{value:'"left-end"'},{value:'"left-start"'},{value:'"right-end"'},{value:'"right-start"'},{value:'"bottom-end"'},{value:'"bottom-start"'},{value:'"top-end"'},{value:'"top-start"'}]}},displayArrow:{defaultValue:{value:"true"},description:"Whether to display an arrow.",name:"displayArrow",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"The event handler for the close button.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},open:{defaultValue:null,description:"Whether the release announcement is open.",name:"open",required:!0,type:{name:"boolean"}},header:{defaultValue:null,description:"The header of the release announcement.",name:"header",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"The description of the release announcement.",name:"description",required:!0,type:{name:"string"}},closeLabel:{defaultValue:null,description:"The label of the close button.",name:"closeLabel",required:!0,type:{name:"string"}}}}}catch{}const oe={title:"Release Announcement",component:d,tags:["autodocs"],argTypes:{},args:{header:"Notifications have moved",description:"From now on, click the icon here to view your notifications.",placement:"right",closeLabel:"Ok"}},h=e=>{const[n,o]=s.useState(!0);return t.jsx(d,{...e,open:n,onClick:()=>o(!1),children:t.jsx(k,{onClick:()=>o(a=>!a),children:"Open menu"})})},l=h.bind({});l.args={};const i=h.bind({});i.args={header:"A multi line header which is taking multiple lines",description:"A multi line description which is taking multiple lines. The OK button should be vertically centred."};const u=h.bind({});u.args={placement:"bottom"};const c=h.bind({});c.args={displayArrow:!1};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...l.parameters?.docs?.source}}};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...i.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...u.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...c.parameters?.docs?.source}}};const ae=["Default","MultiLinesContent","BottomPlacement","NoArrow"];export{u as BottomPlacement,l as Default,i as MultiLinesContent,c as NoArrow,ae as __namedExportsOrder,oe as default};
