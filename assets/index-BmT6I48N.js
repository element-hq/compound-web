import{_ as h}from"./extends-CF3RwP-h.js";import{r as t,R as de}from"./index-Cu9bd8lq.js";import"./index-s2Ee__EW.js";function A(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return r?.(a)}}function ue(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function Q(...e){return r=>e.forEach(n=>ue(n,r))}function q(...e){return t.useCallback(Q(...e),e)}function fe(e,r=[]){let n=[];function o(s,c){const i=t.createContext(c),u=n.length;n=[...n,c];function $(b){const{scope:p,children:E,...F}=b,x=p?.[e][u]||i,g=t.useMemo(()=>F,Object.values(F));return t.createElement(x.Provider,{value:g},E)}function y(b,p){const E=p?.[e][u]||i,F=t.useContext(E);if(F)return F;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${s}\``)}return $.displayName=s+"Provider",[$,y]}const a=()=>{const s=n.map(c=>t.createContext(c));return function(i){const u=i?.[e]||s;return t.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return a.scopeName=e,[o,me(a,...r)]}function me(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const c=o.reduce((i,{useScope:u,scopeName:$})=>{const b=u(s)[`__scope${$}`];return{...i,...b}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return n.scopeName=r.scopeName,n}const $e=globalThis?.document?t.useLayoutEffect:()=>{},ve=de.useId||(()=>{});let pe=0;function G(e){const[r,n]=t.useState(ve());return $e(()=>{n(o=>o??String(pe++))},[e]),r?`radix-${r}`:""}function he(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function Ce(...e){return r=>e.forEach(n=>he(n,r))}const W=t.forwardRef((e,r)=>{const{children:n,...o}=e,a=t.Children.toArray(n),s=a.find(Fe);if(s){const c=s.props.children,i=a.map(u=>u===s?t.Children.count(c)>1?t.Children.only(null):t.isValidElement(c)?c.props.children:null:u);return t.createElement(j,h({},o,{ref:r}),t.isValidElement(c)?t.cloneElement(c,void 0,i):null)}return t.createElement(j,h({},o,{ref:r}),n)});W.displayName="Slot";const j=t.forwardRef((e,r)=>{const{children:n,...o}=e;return t.isValidElement(n)?t.cloneElement(n,{...be(o,n.props),ref:r?Ce(r,n.ref):n.ref}):t.Children.count(n)>1?t.Children.only(null):null});j.displayName="SlotClone";const Ee=({children:e})=>t.createElement(t.Fragment,null,e);function Fe(e){return t.isValidElement(e)&&e.type===Ee}function be(e,r){const n={...r};for(const o in r){const a=e[o],s=r[o];/^on[A-Z]/.test(o)?a&&s?n[o]=(...i)=>{s(...i),a(...i)}:a&&(n[o]=a):o==="style"?n[o]={...a,...s}:o==="className"&&(n[o]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}const ye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=ye.reduce((e,r)=>{const n=t.forwardRef((o,a)=>{const{asChild:s,...c}=o,i=s?W:r;return t.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.createElement(i,h({},c,{ref:a}))});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),xe=t.forwardRef((e,r)=>t.createElement(ge.label,h({},e,{ref:r,onMouseDown:n=>{var o;(o=e.onMouseDown)===null||o===void 0||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),X=t.forwardRef((e,r)=>{const{children:n,...o}=e,a=t.Children.toArray(n),s=a.find(Me);if(s){const c=s.props.children,i=a.map(u=>u===s?t.Children.count(c)>1?t.Children.only(null):t.isValidElement(c)?c.props.children:null:u);return t.createElement(U,h({},o,{ref:r}),t.isValidElement(c)?t.cloneElement(c,void 0,i):null)}return t.createElement(U,h({},o,{ref:r}),n)});X.displayName="Slot";const U=t.forwardRef((e,r)=>{const{children:n,...o}=e;return t.isValidElement(n)?t.cloneElement(n,{...Se(o,n.props),ref:r?Q(r,n.ref):n.ref}):t.Children.count(n)>1?t.Children.only(null):null});U.displayName="SlotClone";const _e=({children:e})=>t.createElement(t.Fragment,null,e);function Me(e){return t.isValidElement(e)&&e.type===_e}function Se(e,r){const n={...r};for(const o in r){const a=e[o],s=r[o];/^on[A-Z]/.test(o)?a&&s?n[o]=(...i)=>{s(...i),a(...i)}:a&&(n[o]=a):o==="style"?n[o]={...a,...s}:o==="className"&&(n[o]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}const Ie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],R=Ie.reduce((e,r)=>{const n=t.forwardRef((o,a)=>{const{asChild:s,...c}=o,i=s?X:r;return t.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.createElement(i,h({},c,{ref:a}))});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),[H,We]=fe("Form"),ee="Form",[Ve,I]=H(ee),[Ae,te]=H(ee),Pe=t.forwardRef((e,r)=>{const{__scopeForm:n,onClearServerErrors:o=()=>{},...a}=e,s=t.useRef(null),c=q(r,s),[i,u]=t.useState({}),$=t.useCallback(d=>i[d],[i]),y=t.useCallback((d,f)=>u(m=>{var v;return{...m,[d]:{...(v=m[d])!==null&&v!==void 0?v:{},...f}}}),[]),b=t.useCallback(d=>{u(f=>({...f,[d]:void 0})),l(f=>({...f,[d]:{}}))},[]),[p,E]=t.useState({}),F=t.useCallback(d=>{var f;return(f=p[d])!==null&&f!==void 0?f:[]},[p]),x=t.useCallback((d,f)=>{E(m=>{var v;return{...m,[d]:[...(v=m[d])!==null&&v!==void 0?v:[],f]}})},[]),g=t.useCallback((d,f)=>{E(m=>{var v;return{...m,[d]:((v=m[d])!==null&&v!==void 0?v:[]).filter(T=>T.id!==f)}})},[]),[M,l]=t.useState({}),C=t.useCallback(d=>{var f;return(f=M[d])!==null&&f!==void 0?f:{}},[M]),_=t.useCallback((d,f)=>{l(m=>{var v;return{...m,[d]:{...(v=m[d])!==null&&v!==void 0?v:{},...f}}})},[]),[V,S]=t.useState({}),L=t.useCallback((d,f)=>{S(m=>{const v=new Set(m[d]).add(f);return{...m,[d]:v}})},[]),w=t.useCallback((d,f)=>{S(m=>{const v=new Set(m[d]);return v.delete(f),{...m,[d]:v}})},[]),D=t.useCallback(d=>{var f;return Array.from((f=V[d])!==null&&f!==void 0?f:[]).join(" ")||void 0},[V]);return t.createElement(Ve,{scope:n,getFieldValidity:$,onFieldValidityChange:y,getFieldCustomMatcherEntries:F,onFieldCustomMatcherEntryAdd:x,onFieldCustomMatcherEntryRemove:g,getFieldCustomErrors:C,onFieldCustomErrorsChange:_,onFieldValiditionClear:b},t.createElement(Ae,{scope:n,onFieldMessageIdAdd:L,onFieldMessageIdRemove:w,getFieldDescription:D},t.createElement(R.form,h({},a,{ref:c,onInvalid:A(e.onInvalid,d=>{const f=re(d.currentTarget);f===d.target&&f.focus(),d.preventDefault()}),onSubmit:A(e.onSubmit,o,{checkForDefaultPrevented:!1}),onReset:A(e.onReset,o)}))))}),ne="FormField",[Re,k]=H(ne),we=t.forwardRef((e,r)=>{const{__scopeForm:n,name:o,serverInvalid:a=!1,...s}=e,i=I(ne,n).getFieldValidity(o),u=G();return t.createElement(Re,{scope:n,id:u,name:o,serverInvalid:a},t.createElement(R.div,h({"data-valid":K(i,a),"data-invalid":Y(i,a)},s,{ref:r})))}),z="FormLabel",De=t.forwardRef((e,r)=>{const{__scopeForm:n,...o}=e,a=I(z,n),s=k(z,n),c=o.htmlFor||s.id,i=a.getFieldValidity(s.name);return t.createElement(xe,h({"data-valid":K(i,s.serverInvalid),"data-invalid":Y(i,s.serverInvalid)},o,{ref:r,htmlFor:c}))}),B="FormControl",Te=t.forwardRef((e,r)=>{const{__scopeForm:n,...o}=e,a=I(B,n),s=k(B,n),c=te(B,n),i=t.useRef(null),u=q(r,i),$=o.name||s.name,y=o.id||s.id,b=a.getFieldCustomMatcherEntries($),{onFieldValidityChange:p,onFieldCustomErrorsChange:E,onFieldValiditionClear:F}=a,x=t.useCallback(async l=>{if(oe(l.validity)){const m=O(l.validity);p($,m);return}const C=l.form?new FormData(l.form):new FormData,_=[l.value,C],V=[],S=[];b.forEach(m=>{He(m,_)?S.push(m):Ze(m)&&V.push(m)});const L=V.map(({id:m,match:v})=>[m,v(..._)]),w=Object.fromEntries(L),D=Object.values(w).some(Boolean),d=D;l.setCustomValidity(d?P:"");const f=O(l.validity);if(p($,f),E($,w),!D&&S.length>0){const m=S.map(({id:ce,match:ie})=>ie(..._).then(le=>[ce,le])),v=await Promise.all(m),T=Object.fromEntries(v),ae=Object.values(T).some(Boolean);l.setCustomValidity(ae?P:"");const se=O(l.validity);p($,se),E($,T)}},[b,$,E,p]);t.useEffect(()=>{const l=i.current;if(l){const C=()=>x(l);return l.addEventListener("change",C),()=>l.removeEventListener("change",C)}},[x]);const g=t.useCallback(()=>{const l=i.current;l&&(l.setCustomValidity(""),F($))},[$,F]);t.useEffect(()=>{var l;const C=(l=i.current)===null||l===void 0?void 0:l.form;if(C)return C.addEventListener("reset",g),()=>C.removeEventListener("reset",g)},[g]),t.useEffect(()=>{const l=i.current,C=l?.closest("form");if(C&&s.serverInvalid){const _=re(C);_===l&&_.focus()}},[s.serverInvalid]);const M=a.getFieldValidity($);return t.createElement(R.input,h({"data-valid":K(M,s.serverInvalid),"data-invalid":Y(M,s.serverInvalid),"aria-invalid":s.serverInvalid?!0:void 0,"aria-describedby":c.getFieldDescription($),title:""},o,{ref:u,id:y,name:$,onInvalid:A(e.onInvalid,l=>{const C=l.currentTarget;x(C)}),onChange:A(e.onChange,l=>{g()})}))}),P="This value is not valid",ke={badInput:P,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},N="FormMessage",Ne=t.forwardRef((e,r)=>{const{match:n,name:o,...a}=e,s=k(N,e.__scopeForm),c=o??s.name;return n===void 0?t.createElement(Z,h({},a,{ref:r,name:c}),e.children||P):typeof n=="function"?t.createElement(Be,h({match:n},a,{ref:r,name:c})):t.createElement(Le,h({match:n},a,{ref:r,name:c}))}),Le=t.forwardRef((e,r)=>{const{match:n,forceMatch:o=!1,name:a,children:s,...c}=e,u=I(N,c.__scopeForm).getFieldValidity(a);return o||u?.[n]?t.createElement(Z,h({ref:r},c,{name:a}),s??ke[n]):null}),Be=t.forwardRef((e,r)=>{const{match:n,forceMatch:o=!1,name:a,id:s,children:c,...i}=e,u=I(N,i.__scopeForm),$=t.useRef(null),y=q(r,$),b=G(),p=s??b,E=t.useMemo(()=>({id:p,match:n}),[p,n]),{onFieldCustomMatcherEntryAdd:F,onFieldCustomMatcherEntryRemove:x}=u;t.useEffect(()=>(F(a,E),()=>x(a,E.id)),[E,a,F,x]);const g=u.getFieldValidity(a),l=u.getFieldCustomErrors(a)[p];return o||g&&!oe(g)&&l?t.createElement(Z,h({id:p,ref:y},i,{name:a}),c??P):null}),Z=t.forwardRef((e,r)=>{const{__scopeForm:n,id:o,name:a,...s}=e,c=te(N,n),i=G(),u=o??i,{onFieldMessageIdAdd:$,onFieldMessageIdRemove:y}=c;return t.useEffect(()=>($(a,u),()=>y(a,u)),[a,u,$,y]),t.createElement(R.span,h({id:u},s,{ref:r}))}),J="FormValidityState",Oe=e=>{const{__scopeForm:r,name:n,children:o}=e,a=I(J,r),s=k(J,r),c=n??s.name,i=a.getFieldValidity(c);return t.createElement(t.Fragment,null,o(i))},je=t.forwardRef((e,r)=>{const{__scopeForm:n,...o}=e;return t.createElement(R.button,h({type:"submit"},o,{ref:r}))});function O(e){const r={};for(const n in e)r[n]=e[n];return r}function Ue(e){return e instanceof HTMLElement}function qe(e){return"validity"in e}function Ge(e){return qe(e)&&(e.validity.valid===!1||e.getAttribute("aria-invalid")==="true")}function re(e){const r=e.elements,[n]=Array.from(r).filter(Ue).filter(Ge);return n}function He(e,r){return e.match.constructor.name==="AsyncFunction"||Ke(e.match,r)}function Ze(e){return e.match.constructor.name==="Function"}function Ke(e,r){return e(...r)instanceof Promise}function oe(e){let r=!1;for(const n in e){const o=n;if(o!=="valid"&&o!=="customError"&&e[o]){r=!0;break}}return r}function K(e,r){if(e?.valid===!0&&!r)return!0}function Y(e,r){if(e?.valid===!1||r)return!0}const Xe=Pe,et=we,tt=De,nt=Te,rt=Ne,ot=Oe,at=je;export{Pe as $,nt as a,at as b,ot as c,Xe as d,et as e,tt as f,rt as g};
