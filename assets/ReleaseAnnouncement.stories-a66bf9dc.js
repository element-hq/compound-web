import{j as o}from"./jsx-runtime-f6d73c06.js";import{r}from"./index-8ee6c85d.js";import{B as E}from"./Button-1d7556c8.js";import"./IconButton-3b043bff.js";import{a as R,b as I,i as M,j as N,c as L,o as S,s as P,d as H,l as z,u as D,F as W,m as K,k as U}from"./floating-ui.react-97a0fed4.js";import{T as A}from"./Text-270962e1.js";import"./_commonjsHelpers-de833af9.js";import"./index-e131923d.js";import"./UnstyledButton-f4d497aa.js";import"./IndicatorIcon-ec96b47b.js";import"./index-8bf7f4ad.js";import"./Typography-1dd46c86.js";const $="_content_1oa1y_17",G="_header_1oa1y_46",J="_description_1oa1y_52",Q="_button_1oa1y_57",X="_arrow_1oa1y_62",u={content:$,header:G,description:J,button:Q,arrow:X},F=r.createContext(null);function g(){const e=r.useContext(F);if(e==null)throw new Error("ReleaseAnnouncement components must be wrapped in <ReleaseAnnouncement />");return e}function f({open:e,header:n,description:a,closeLabel:t,placement:m,onClick:c}){const v=R(),_=R(),d=r.useRef(null),h=I({placement:m,open:e,whileElementsMounted:L,middleware:[S(16),P({limiter:z({offset:50})}),H({element:d})]}),y=M(h.context),x=N([y]);return r.useMemo(()=>({open:e,...h,...x,labelId:v,descriptionId:_,header:n,description:a,closeLabel:t,onClick:c,arrowRef:d}),[e,y,x,h,v,_,n,a,t,c,d])}try{f.displayName="useReleaseAnnouncement",f.__docgenInfo={description:"This hook provides the necessary props to create a release announcement.",displayName:"useReleaseAnnouncement",props:{open:{defaultValue:null,description:"Whether the release announcement is open.",name:"open",required:!0,type:{name:"boolean"}},header:{defaultValue:null,description:"The header of the release announcement.",name:"header",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"The description of the release announcement.",name:"description",required:!0,type:{name:"string"}},closeLabel:{defaultValue:null,description:"The label of the close button.",name:"closeLabel",required:!0,type:{name:"string"}},placement:{defaultValue:null,description:"The placement of the release announcement.",name:"placement",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},onClick:{defaultValue:null,description:"The event handler for the close button.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}function p({children:e,placement:n="right",...a}){const t=f({placement:n,...a});return o.jsxs(F.Provider,{value:t,children:[o.jsx(Y,{children:e}),o.jsx(Z,{children:o.jsx(ee,{})})]})}function Y({children:e}){const n=g(),a=e==null?void 0:e.ref,t=D([n.refs.setReference,a]);if(!r.isValidElement(e))throw new Error("ReleaseAnnouncement anchor must be a single valid React element");return r.cloneElement(e,n.getReferenceProps({ref:t,...e.props,...n.open&&{"aria-describedby":n.getFloatingProps().id}}))}function Z({children:e}){const{context:n,arrowRef:a,...t}=g();return n.open?o.jsx(W,{children:o.jsx(K,{context:n,modal:!1,children:o.jsxs("div",{ref:t.refs.setFloating,style:t.floatingStyles,"aria-labelledby":t.labelId,"aria-describedby":t.descriptionId,...t.getFloatingProps(),className:u.content,children:[o.jsx(U,{ref:a,context:n,width:20,height:12,className:u.arrow}),e]})})}):null}function ee(){const{labelId:e,descriptionId:n,header:a,description:t,closeLabel:m,onClick:c}=g();return o.jsxs(o.Fragment,{children:[o.jsx(A,{as:"h3",id:e,className:u.header,size:"lg",weight:"semibold",children:a}),o.jsx(A,{as:"span",id:n,className:u.description,size:"sm",weight:"regular",children:t}),o.jsx(E,{size:"sm",kind:"secondary",className:u.button,onClick:c,children:m})]})}try{p.displayName="ReleaseAnnouncement",p.__docgenInfo={description:`The ReleaseAnnouncement component purpose is to inform the user of a new available feature.
This component is a floating component that will appear next to an anchor.`,displayName:"ReleaseAnnouncement",props:{placement:{defaultValue:{value:"right"},description:"The placement of the component",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'},{value:'"top-start"'},{value:'"top-end"'},{value:'"right-start"'},{value:'"right-end"'},{value:'"bottom-start"'},{value:'"bottom-end"'},{value:'"left-start"'},{value:'"left-end"'}]}},header:{defaultValue:null,description:"The header of the release announcement.",name:"header",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"Whether the release announcement is open.",name:"open",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"The event handler for the close button.",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}},description:{defaultValue:null,description:"The description of the release announcement.",name:"description",required:!0,type:{name:"string"}},closeLabel:{defaultValue:null,description:"The label of the close button.",name:"closeLabel",required:!0,type:{name:"string"}}}}}catch{}const de={title:"Release Announcement",component:p,tags:["autodocs"],argTypes:{},args:{header:"Notifications have moved",description:"From now on, click the icon here to view your notifications.",placement:"right",closeLabel:"Ok"}},b=e=>{const[n,a]=r.useState(!0);return o.jsx(p,{...e,open:n,onClick:()=>a(!1),children:o.jsx(E,{onClick:()=>a(t=>!t),children:"Open menu"})})},s=b.bind({});s.args={};const l=b.bind({});l.args={header:"A multi line header which is taking multiple lines",description:"A multi line description which is taking multiple lines. The OK button should be vertically centred."};const i=b.bind({});i.args={placement:"bottom"};var C,w,T;s.parameters={...s.parameters,docs:{...(C=s.parameters)==null?void 0:C.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...(T=(w=s.parameters)==null?void 0:w.docs)==null?void 0:T.source}}};var k,j,O;l.parameters={...l.parameters,docs:{...(k=l.parameters)==null?void 0:k.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...(O=(j=l.parameters)==null?void 0:j.docs)==null?void 0:O.source}}};var V,q,B;i.parameters={...i.parameters,docs:{...(V=i.parameters)==null?void 0:V.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <ReleaseAnnouncementComponent {...args} open={open} onClick={() => setOpen(false)}>
      <Button onClick={() => setOpen(_open => !_open)}>Open menu</Button>
    </ReleaseAnnouncementComponent>;
}`,...(B=(q=i.parameters)==null?void 0:q.docs)==null?void 0:B.source}}};const he=["Default","MultiLinesContent","BottomPlacement"];export{i as BottomPlacement,s as Default,l as MultiLinesContent,he as __namedExportsOrder,de as default};
//# sourceMappingURL=ReleaseAnnouncement.stories-a66bf9dc.js.map
