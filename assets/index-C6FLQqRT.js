import{_ as h,u as q}from"./extends-DhVGKg3b.js";import{r as t}from"./index-Cu9bd8lq.js";import"./index-s2Ee__EW.js";function A(e,r,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return r?.(s)}}function de(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function Q(...e){return r=>e.forEach(n=>de(n,r))}function G(...e){return t.useCallback(Q(...e),e)}function ue(e,r=[]){let n=[];function o(a,c){const i=t.createContext(c),u=n.length;n=[...n,c];function $(y){const{scope:p,children:E,...F}=y,_=p?.[e][u]||i,g=t.useMemo(()=>F,Object.values(F));return t.createElement(_.Provider,{value:g},E)}function b(y,p){const E=p?.[e][u]||i,F=t.useContext(E);if(F)return F;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return $.displayName=a+"Provider",[$,b]}const s=()=>{const a=n.map(c=>t.createContext(c));return function(i){const u=i?.[e]||a;return t.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return s.scopeName=e,[o,fe(s,...r)]}function fe(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const c=o.reduce((i,{useScope:u,scopeName:$})=>{const y=u(a)[`__scope${$}`];return{...i,...y}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return n.scopeName=r.scopeName,n}function me(e,r){typeof e=="function"?e(r):e!=null&&(e.current=r)}function $e(...e){return r=>e.forEach(n=>me(n,r))}const W=t.forwardRef((e,r)=>{const{children:n,...o}=e,s=t.Children.toArray(n),a=s.find(pe);if(a){const c=a.props.children,i=s.map(u=>u===a?t.Children.count(c)>1?t.Children.only(null):t.isValidElement(c)?c.props.children:null:u);return t.createElement(j,h({},o,{ref:r}),t.isValidElement(c)?t.cloneElement(c,void 0,i):null)}return t.createElement(j,h({},o,{ref:r}),n)});W.displayName="Slot";const j=t.forwardRef((e,r)=>{const{children:n,...o}=e;return t.isValidElement(n)?t.cloneElement(n,{...he(o,n.props),ref:r?$e(r,n.ref):n.ref}):t.Children.count(n)>1?t.Children.only(null):null});j.displayName="SlotClone";const ve=({children:e})=>t.createElement(t.Fragment,null,e);function pe(e){return t.isValidElement(e)&&e.type===ve}function he(e,r){const n={...r};for(const o in r){const s=e[o],a=r[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...i)=>{a(...i),s(...i)}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}const Ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ee=Ce.reduce((e,r)=>{const n=t.forwardRef((o,s)=>{const{asChild:a,...c}=o,i=a?W:r;return t.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.createElement(i,h({},c,{ref:s}))});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),Fe=t.forwardRef((e,r)=>t.createElement(Ee.label,h({},e,{ref:r,onMouseDown:n=>{var o;(o=e.onMouseDown)===null||o===void 0||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),X=t.forwardRef((e,r)=>{const{children:n,...o}=e,s=t.Children.toArray(n),a=s.find(be);if(a){const c=a.props.children,i=s.map(u=>u===a?t.Children.count(c)>1?t.Children.only(null):t.isValidElement(c)?c.props.children:null:u);return t.createElement(U,h({},o,{ref:r}),t.isValidElement(c)?t.cloneElement(c,void 0,i):null)}return t.createElement(U,h({},o,{ref:r}),n)});X.displayName="Slot";const U=t.forwardRef((e,r)=>{const{children:n,...o}=e;return t.isValidElement(n)?t.cloneElement(n,{...ge(o,n.props),ref:r?Q(r,n.ref):n.ref}):t.Children.count(n)>1?t.Children.only(null):null});U.displayName="SlotClone";const ye=({children:e})=>t.createElement(t.Fragment,null,e);function be(e){return t.isValidElement(e)&&e.type===ye}function ge(e,r){const n={...r};for(const o in r){const s=e[o],a=r[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...i)=>{a(...i),s(...i)}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}const _e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],w=_e.reduce((e,r)=>{const n=t.forwardRef((o,s)=>{const{asChild:a,...c}=o,i=a?X:r;return t.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),t.createElement(i,h({},c,{ref:s}))});return n.displayName=`Primitive.${r}`,{...e,[r]:n}},{}),[H,Ye]=ue("Form"),ee="Form",[xe,S]=H(ee),[Me,te]=H(ee),Ie=t.forwardRef((e,r)=>{const{__scopeForm:n,onClearServerErrors:o=()=>{},...s}=e,a=t.useRef(null),c=G(r,a),[i,u]=t.useState({}),$=t.useCallback(d=>i[d],[i]),b=t.useCallback((d,f)=>u(m=>{var v;return{...m,[d]:{...(v=m[d])!==null&&v!==void 0?v:{},...f}}}),[]),y=t.useCallback(d=>{u(f=>({...f,[d]:void 0})),l(f=>({...f,[d]:{}}))},[]),[p,E]=t.useState({}),F=t.useCallback(d=>{var f;return(f=p[d])!==null&&f!==void 0?f:[]},[p]),_=t.useCallback((d,f)=>{E(m=>{var v;return{...m,[d]:[...(v=m[d])!==null&&v!==void 0?v:[],f]}})},[]),g=t.useCallback((d,f)=>{E(m=>{var v;return{...m,[d]:((v=m[d])!==null&&v!==void 0?v:[]).filter(T=>T.id!==f)}})},[]),[M,l]=t.useState({}),C=t.useCallback(d=>{var f;return(f=M[d])!==null&&f!==void 0?f:{}},[M]),x=t.useCallback((d,f)=>{l(m=>{var v;return{...m,[d]:{...(v=m[d])!==null&&v!==void 0?v:{},...f}}})},[]),[V,I]=t.useState({}),L=t.useCallback((d,f)=>{I(m=>{const v=new Set(m[d]).add(f);return{...m,[d]:v}})},[]),R=t.useCallback((d,f)=>{I(m=>{const v=new Set(m[d]);return v.delete(f),{...m,[d]:v}})},[]),D=t.useCallback(d=>{var f;return Array.from((f=V[d])!==null&&f!==void 0?f:[]).join(" ")||void 0},[V]);return t.createElement(xe,{scope:n,getFieldValidity:$,onFieldValidityChange:b,getFieldCustomMatcherEntries:F,onFieldCustomMatcherEntryAdd:_,onFieldCustomMatcherEntryRemove:g,getFieldCustomErrors:C,onFieldCustomErrorsChange:x,onFieldValiditionClear:y},t.createElement(Me,{scope:n,onFieldMessageIdAdd:L,onFieldMessageIdRemove:R,getFieldDescription:D},t.createElement(w.form,h({},s,{ref:c,onInvalid:A(e.onInvalid,d=>{const f=re(d.currentTarget);f===d.target&&f.focus(),d.preventDefault()}),onSubmit:A(e.onSubmit,o,{checkForDefaultPrevented:!1}),onReset:A(e.onReset,o)}))))}),ne="FormField",[Se,k]=H(ne),Ve=t.forwardRef((e,r)=>{const{__scopeForm:n,name:o,serverInvalid:s=!1,...a}=e,i=S(ne,n).getFieldValidity(o),u=q();return t.createElement(Se,{scope:n,id:u,name:o,serverInvalid:s},t.createElement(w.div,h({"data-valid":K(i,s),"data-invalid":Y(i,s)},a,{ref:r})))}),z="FormLabel",Ae=t.forwardRef((e,r)=>{const{__scopeForm:n,...o}=e,s=S(z,n),a=k(z,n),c=o.htmlFor||a.id,i=s.getFieldValidity(a.name);return t.createElement(Fe,h({"data-valid":K(i,a.serverInvalid),"data-invalid":Y(i,a.serverInvalid)},o,{ref:r,htmlFor:c}))}),O="FormControl",Pe=t.forwardRef((e,r)=>{const{__scopeForm:n,...o}=e,s=S(O,n),a=k(O,n),c=te(O,n),i=t.useRef(null),u=G(r,i),$=o.name||a.name,b=o.id||a.id,y=s.getFieldCustomMatcherEntries($),{onFieldValidityChange:p,onFieldCustomErrorsChange:E,onFieldValiditionClear:F}=s,_=t.useCallback(async l=>{if(oe(l.validity)){const m=B(l.validity);p($,m);return}const C=l.form?new FormData(l.form):new FormData,x=[l.value,C],V=[],I=[];y.forEach(m=>{je(m,x)?I.push(m):Ue(m)&&V.push(m)});const L=V.map(({id:m,match:v})=>[m,v(...x)]),R=Object.fromEntries(L),D=Object.values(R).some(Boolean),d=D;l.setCustomValidity(d?P:"");const f=B(l.validity);if(p($,f),E($,R),!D&&I.length>0){const m=I.map(({id:ce,match:ie})=>ie(...x).then(le=>[ce,le])),v=await Promise.all(m),T=Object.fromEntries(v),se=Object.values(T).some(Boolean);l.setCustomValidity(se?P:"");const ae=B(l.validity);p($,ae),E($,T)}},[y,$,E,p]);t.useEffect(()=>{const l=i.current;if(l){const C=()=>_(l);return l.addEventListener("change",C),()=>l.removeEventListener("change",C)}},[_]);const g=t.useCallback(()=>{const l=i.current;l&&(l.setCustomValidity(""),F($))},[$,F]);t.useEffect(()=>{var l;const C=(l=i.current)===null||l===void 0?void 0:l.form;if(C)return C.addEventListener("reset",g),()=>C.removeEventListener("reset",g)},[g]),t.useEffect(()=>{const l=i.current,C=l?.closest("form");if(C&&a.serverInvalid){const x=re(C);x===l&&x.focus()}},[a.serverInvalid]);const M=s.getFieldValidity($);return t.createElement(w.input,h({"data-valid":K(M,a.serverInvalid),"data-invalid":Y(M,a.serverInvalid),"aria-invalid":a.serverInvalid?!0:void 0,"aria-describedby":c.getFieldDescription($),title:""},o,{ref:u,id:b,name:$,onInvalid:A(e.onInvalid,l=>{const C=l.currentTarget;_(C)}),onChange:A(e.onChange,l=>{g()})}))}),P="This value is not valid",we={badInput:P,patternMismatch:"This value does not match the required pattern",rangeOverflow:"This value is too large",rangeUnderflow:"This value is too small",stepMismatch:"This value does not match the required step",tooLong:"This value is too long",tooShort:"This value is too short",typeMismatch:"This value does not match the required type",valid:void 0,valueMissing:"This value is missing"},N="FormMessage",Re=t.forwardRef((e,r)=>{const{match:n,name:o,...s}=e,a=k(N,e.__scopeForm),c=o??a.name;return n===void 0?t.createElement(Z,h({},s,{ref:r,name:c}),e.children||P):typeof n=="function"?t.createElement(Te,h({match:n},s,{ref:r,name:c})):t.createElement(De,h({match:n},s,{ref:r,name:c}))}),De=t.forwardRef((e,r)=>{const{match:n,forceMatch:o=!1,name:s,children:a,...c}=e,u=S(N,c.__scopeForm).getFieldValidity(s);return o||u?.[n]?t.createElement(Z,h({ref:r},c,{name:s}),a??we[n]):null}),Te=t.forwardRef((e,r)=>{const{match:n,forceMatch:o=!1,name:s,id:a,children:c,...i}=e,u=S(N,i.__scopeForm),$=t.useRef(null),b=G(r,$),y=q(),p=a??y,E=t.useMemo(()=>({id:p,match:n}),[p,n]),{onFieldCustomMatcherEntryAdd:F,onFieldCustomMatcherEntryRemove:_}=u;t.useEffect(()=>(F(s,E),()=>_(s,E.id)),[E,s,F,_]);const g=u.getFieldValidity(s),l=u.getFieldCustomErrors(s)[p];return o||g&&!oe(g)&&l?t.createElement(Z,h({id:p,ref:b},i,{name:s}),c??P):null}),Z=t.forwardRef((e,r)=>{const{__scopeForm:n,id:o,name:s,...a}=e,c=te(N,n),i=q(),u=o??i,{onFieldMessageIdAdd:$,onFieldMessageIdRemove:b}=c;return t.useEffect(()=>($(s,u),()=>b(s,u)),[s,u,$,b]),t.createElement(w.span,h({id:u},a,{ref:r}))}),J="FormValidityState",ke=e=>{const{__scopeForm:r,name:n,children:o}=e,s=S(J,r),a=k(J,r),c=n??a.name,i=s.getFieldValidity(c);return t.createElement(t.Fragment,null,o(i))},Ne=t.forwardRef((e,r)=>{const{__scopeForm:n,...o}=e;return t.createElement(w.button,h({type:"submit"},o,{ref:r}))});function B(e){const r={};for(const n in e)r[n]=e[n];return r}function Le(e){return e instanceof HTMLElement}function Oe(e){return"validity"in e}function Be(e){return Oe(e)&&(e.validity.valid===!1||e.getAttribute("aria-invalid")==="true")}function re(e){const r=e.elements,[n]=Array.from(r).filter(Le).filter(Be);return n}function je(e,r){return e.match.constructor.name==="AsyncFunction"||qe(e.match,r)}function Ue(e){return e.match.constructor.name==="Function"}function qe(e,r){return e(...r)instanceof Promise}function oe(e){let r=!1;for(const n in e){const o=n;if(o!=="valid"&&o!=="customError"&&e[o]){r=!0;break}}return r}function K(e,r){if(e?.valid===!0&&!r)return!0}function Y(e,r){if(e?.valid===!1||r)return!0}const ze=Ie,Je=Ve,Qe=Ae,We=Pe,Xe=Re,et=ke,tt=Ne;export{Ie as $,We as a,tt as b,et as c,ze as d,Je as e,Qe as f,Xe as g};
