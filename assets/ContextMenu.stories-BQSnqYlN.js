import{j as t}from"./jsx-runtime-u17CrQMm.js";import{r as s}from"./iframe-BTuhXdxB.js";import"./index-Orzn-15g.js";import{U as D}from"./user-profile-CQIv1It-.js";import{N as U,C as L,L as W}from"./notifications-04w91OFA.js";import{c as F,P as q,a as f}from"./index-BF5cHyf5.js";import{c as I,u as V,R as B,P as $,C as z,I as X,A as H,G as K,L as Y,a as J,b as Q,d as Z,e as ee,S as te,f as ne,g as oe,h as re,D as C}from"./index-CsnX1ZAT.js";import{F as ae}from"./FloatingMenu-CYqrDCGU.js";import{c as S}from"./index-B1L6Be9y.js";import{d as se,D as ie,g as ce}from"./DrawerMenu-Btky_FVD.js";import{a as ue,M as g}from"./MenuItem-CqsXKFa8.js";import{S as le}from"./Separator-B7ctyTIX.js";import"./preload-helper-PPVm8Dsz.js";import"./index-Bzna9Ipr.js";import"./index-Dkdv6-7R.js";import"./index-BZInmUmk.js";import"./floating-ui.core-BbbQpTXO.js";import"./MenuTitle-BfbDQJ22.js";import"./Text-Vtme__F4.js";import"./Typography-CN2ypySH.js";import"./chevron-right-B3JvqnwC.js";import"./index-CKHI96Hj.js";import"./floating-ui.react-BSETy32y.js";var R="ContextMenu",[de]=F(R,[I]),c=I(),[pe,N]=de(R),j=e=>{const{__scopeContextMenu:o,children:r,onOpenChange:n,dir:a,modal:p=!0}=e,[l,u]=s.useState(!1),m=c(o),x=V(n),i=s.useCallback(h=>{u(h),x(h)},[x]);return t.jsx(pe,{scope:o,open:l,onOpenChange:i,modal:p,children:t.jsx(B,{...m,dir:a,open:l,onOpenChange:i,modal:p,children:r})})};j.displayName=R;var A="ContextMenuTrigger",T=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,disabled:n=!1,...a}=e,p=N(A,r),l=c(r),u=s.useRef({x:0,y:0}),m=s.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...u.current})}),x=s.useRef(0),i=s.useCallback(()=>window.clearTimeout(x.current),[]),h=d=>{u.current={x:d.clientX,y:d.clientY},p.onOpenChange(!0)};return s.useEffect(()=>i,[i]),s.useEffect(()=>{n&&i()},[n,i]),t.jsxs(t.Fragment,{children:[t.jsx(H,{...l,virtualRef:m}),t.jsx(q.span,{"data-state":p.open?"open":"closed","data-disabled":n?"":void 0,...a,ref:o,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:f(e.onContextMenu,d=>{i(),h(d),d.preventDefault()}),onPointerDown:n?e.onPointerDown:f(e.onPointerDown,M(d=>{i(),x.current=window.setTimeout(()=>h(d),700)})),onPointerMove:n?e.onPointerMove:f(e.onPointerMove,M(i)),onPointerCancel:n?e.onPointerCancel:f(e.onPointerCancel,M(i)),onPointerUp:n?e.onPointerUp:f(e.onPointerUp,M(i))})]})});T.displayName=A;var me="ContextMenuPortal",E=e=>{const{__scopeContextMenu:o,...r}=e,n=c(o);return t.jsx($,{...n,...r})};E.displayName=me;var O="ContextMenuContent",k=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=N(O,r),p=c(r),l=s.useRef(!1);return t.jsx(z,{...p,...n,ref:o,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),!u.defaultPrevented&&l.current&&u.preventDefault(),l.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),!u.defaultPrevented&&!a.modal&&(l.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k.displayName=O;var xe="ContextMenuGroup",he=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(K,{...a,...n,ref:o})});he.displayName=xe;var fe="ContextMenuLabel",Ce=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(Y,{...a,...n,ref:o})});Ce.displayName=fe;var ge="ContextMenuItem",G=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(X,{...a,...n,ref:o})});G.displayName=ge;var Me="ContextMenuCheckboxItem",ve=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(J,{...a,...n,ref:o})});ve.displayName=Me;var be="ContextMenuRadioGroup",_e=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(Q,{...a,...n,ref:o})});_e.displayName=be;var Re="ContextMenuRadioItem",ye=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(Z,{...a,...n,ref:o})});ye.displayName=Re;var Pe="ContextMenuItemIndicator",Se=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(ee,{...a,...n,ref:o})});Se.displayName=Pe;var we="ContextMenuSeparator",Ie=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(te,{...a,...n,ref:o})});Ie.displayName=we;var Ne="ContextMenuArrow",je=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(ne,{...a,...n,ref:o})});je.displayName=Ne;var Ae="ContextMenuSubTrigger",Te=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(oe,{...a,...n,ref:o})});Te.displayName=Ae;var Ee="ContextMenuSubContent",Oe=s.forwardRef((e,o)=>{const{__scopeContextMenu:r,...n}=e,a=c(r);return t.jsx(re,{...a,...n,ref:o,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oe.displayName=Ee;function M(e){return o=>o.pointerType!=="mouse"?e(o):void 0}var w=j,ke=T,Ge=E,De=k;const Ue="_content_vnv5k_8",Le={content:Ue},We=({onSelect:e,children:o})=>t.jsx(G,{onSelect:e??void 0,asChild:!0,children:o}),_=({title:e,showTitle:o=!0,onOpenChange:r,trigger:n,hasAccessibleAlternative:a,children:p})=>{const[l,u]=s.useState(!1),m=s.useCallback(P=>{u(P),r?.(P)},[u,r]),x=ce(),i=x==="android"||x==="ios",h=s.useMemo(()=>({MenuItemWrapper:i?null:We,onOpenChange:m}),[m]),d=t.jsx(ue.Provider,{value:h,children:p}),y=t.jsx(ke,{"aria-haspopup":"menu",tabIndex:a?void 0:0,asChild:!0,children:n});return i?t.jsxs(t.Fragment,{children:[t.jsx(w,{onOpenChange:m,children:y}),t.jsx(C.Root,{open:l,onOpenChange:m,children:t.jsxs(C.Portal,{children:[t.jsx(C.Overlay,{className:S(se.bg)}),t.jsx(C.Content,{asChild:!0,children:t.jsx(ie,{title:e,children:d})})]})})]}):t.jsxs(w,{onOpenChange:m,children:[y,t.jsx(Ge,{children:t.jsx(De,{asChild:!0,className:S(Le.content),children:t.jsx(ae,{showTitle:o,title:e,children:d})})})]})};try{_.displayName="ContextMenu",_.__docgenInfo={description:"A menu opened by right-clicking or long-pressing another UI element.",displayName:"ContextMenu",props:{title:{defaultValue:null,description:"The menu title.",name:"title",required:!0,type:{name:"string"}},showTitle:{defaultValue:{value:"true"},description:"Wether the title is displayed.",name:"showTitle",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"Event handler called when the open state of the menu changes.",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void)"}},trigger:{defaultValue:null,description:`The trigger that can be right-clicked or long-pressed to open the menu.
This must be a component that accepts a ref and spreads props.
https://www.radix-ui.com/primitives/docs/guides/composition`,name:"trigger",required:!0,type:{name:"ReactNode"}},hasAccessibleAlternative:{defaultValue:null,description:`Whether the functionality of this menu is available through some other
keyboard-accessible means. Preferably this should be true, because context
menus are potentially difficult to discover, but if false the trigger will
become focusable so that it can be opened via keyboard navigation.`,name:"hasAccessibleAlternative",required:!0,type:{name:"boolean"}},children:{defaultValue:null,description:"The menu contents.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}const Fe=e=>t.jsxs(_,{...e,title:"Settings",trigger:t.jsx("div",{style:{borderRadius:24,background:"var(--cpd-color-bg-subtle-secondary)",inlineSize:300,blockSize:200,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",padding:32,boxSizing:"border-box"},children:"Right click or long press to open menu"}),hasAccessibleAlternative:!1,children:[t.jsx(g,{Icon:D,label:"Profile",onSelect:()=>{}}),t.jsx(g,{Icon:U,label:"Notifications",onSelect:()=>{}}),t.jsx(g,{Icon:L,label:"Feedback",onSelect:()=>{}}),t.jsx(le,{}),t.jsx(g,{kind:"critical",Icon:W,label:"Sign out",onSelect:()=>{}})]}),dt={title:"Menu/ContextMenu",component:Fe,tags:["autodocs"],argTypes:{},args:{}},v={args:{}},b={args:{showTitle:!1}};v.parameters={...v.parameters,docs:{...v.parameters?.docs,source:{originalSource:`{
  args: {}
}`,...v.parameters?.docs?.source}}};b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:`{
  args: {
    showTitle: false
  }
}`,...b.parameters?.docs?.source}}};const pt=["ContextMenu","ContextMenuWithoutTitle"];export{v as ContextMenu,b as ContextMenuWithoutTitle,pt as __namedExportsOrder,dt as default};
