import{j as a}from"./jsx-runtime-CexXSJP5.js";import{r as s}from"./index-BP8_t0zE.js";import{c as M}from"./index-DD7XHAoh.js";import{P as k}from"./index-BjHk5heU.js";import{c as R,A as G,C as D,G as U,L,I as $,a as B,R as F,b as q,d as V,S as W,e as H,f as X,g as K,u as Y,h as z,P as J,D as g}from"./index-BF9S1Jqn.js";import{F as Q}from"./FloatingMenu-t36h7pay.js";import{c as Z}from"./index-CSpfAsmC.js";import{d as ee,D as te,g as ne}from"./DrawerMenu-BgyYdqxq.js";import{a as oe}from"./MenuItem-CmF0V73j.js";function re(e,t=[]){let o=[];function n(d,i){const c=s.createContext(i),p=o.length;o=[...o,i];const C=x=>{const{scope:m,children:h,...f}=x,O=m?.[e]?.[p]||c,T=s.useMemo(()=>f,Object.values(f));return a.jsx(O.Provider,{value:T,children:h})};C.displayName=d+"Provider";function u(x,m){const h=m?.[e]?.[p]||c,f=s.useContext(h);if(f)return f;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${d}\``)}return[C,u]}const r=()=>{const d=o.map(i=>s.createContext(i));return function(c){const p=c?.[e]||d;return s.useMemo(()=>({[`__scope${e}`]:{...c,[e]:p}}),[c,p])}};return r.scopeName=e,[n,ae(r,...t)]}function ae(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const n=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(d){const i=n.reduce((c,{useScope:p,scopeName:C})=>{const x=p(d)[`__scope${C}`];return{...c,...x}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return o.scopeName=t.scopeName,o}var _="ContextMenu",[se,qe]=re(_,[R]),l=R(),[ce,w]=se(_),S=e=>{const{__scopeContextMenu:t,children:o,onOpenChange:n,dir:r,modal:d=!0}=e,[i,c]=s.useState(!1),p=l(t),C=Y(n),u=s.useCallback(x=>{c(x),C(x)},[C]);return a.jsx(ce,{scope:t,open:i,onOpenChange:u,modal:d,children:a.jsx(z,{...p,dir:r,open:i,onOpenChange:u,modal:d,children:o})})};S.displayName=_;var N="ContextMenuTrigger",y=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,disabled:n=!1,...r}=e,d=w(N,o),i=l(o),c=s.useRef({x:0,y:0}),p=s.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...c.current})}),C=s.useRef(0),u=s.useCallback(()=>window.clearTimeout(C.current),[]),x=m=>{c.current={x:m.clientX,y:m.clientY},d.onOpenChange(!0)};return s.useEffect(()=>u,[u]),s.useEffect(()=>void(n&&u()),[n,u]),a.jsxs(a.Fragment,{children:[a.jsx(G,{...i,virtualRef:p}),a.jsx(k.span,{"data-state":d.open?"open":"closed","data-disabled":n?"":void 0,...r,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:M(e.onContextMenu,m=>{u(),x(m),m.preventDefault()}),onPointerDown:n?e.onPointerDown:M(e.onPointerDown,v(m=>{u(),C.current=window.setTimeout(()=>x(m),700)})),onPointerMove:n?e.onPointerMove:M(e.onPointerMove,v(u)),onPointerCancel:n?e.onPointerCancel:M(e.onPointerCancel,v(u)),onPointerUp:n?e.onPointerUp:M(e.onPointerUp,v(u))})]})});y.displayName=N;var ie="ContextMenuPortal",I=e=>{const{__scopeContextMenu:t,...o}=e,n=l(t);return a.jsx(J,{...n,...o})};I.displayName=ie;var j="ContextMenuContent",A=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=w(j,o),d=l(o),i=s.useRef(!1);return a.jsx(D,{...d,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),!c.defaultPrevented&&i.current&&c.preventDefault(),i.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),!c.defaultPrevented&&!r.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});A.displayName=j;var ue="ContextMenuGroup",de=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(U,{...r,...n,ref:t})});de.displayName=ue;var le="ContextMenuLabel",pe=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(L,{...r,...n,ref:t})});pe.displayName=le;var xe="ContextMenuItem",E=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx($,{...r,...n,ref:t})});E.displayName=xe;var me="ContextMenuCheckboxItem",Ce=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(B,{...r,...n,ref:t})});Ce.displayName=me;var he="ContextMenuRadioGroup",fe=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(F,{...r,...n,ref:t})});fe.displayName=he;var Me="ContextMenuRadioItem",ge=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(q,{...r,...n,ref:t})});ge.displayName=Me;var ve="ContextMenuItemIndicator",_e=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(V,{...r,...n,ref:t})});_e.displayName=ve;var be="ContextMenuSeparator",Pe=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(W,{...r,...n,ref:t})});Pe.displayName=be;var Re="ContextMenuArrow",we=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(H,{...r,...n,ref:t})});we.displayName=Re;var Se="ContextMenuSubTrigger",Ne=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(X,{...r,...n,ref:t})});Ne.displayName=Se;var ye="ContextMenuSubContent",Ie=s.forwardRef((e,t)=>{const{__scopeContextMenu:o,...n}=e,r=l(o);return a.jsx(K,{...r,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ie.displayName=ye;function v(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var b=S,je=y,Ae=I,Ee=A;const Oe=({onSelect:e,children:t})=>a.jsx(E,{onSelect:e??void 0,asChild:!0,children:t}),P=({title:e,onOpenChange:t,trigger:o,hasAccessibleAlternative:n,children:r})=>{const[d,i]=s.useState(!1),c=s.useCallback(h=>{i(h),t?.(h)},[i,t]),p=ne(),C=p==="android"||p==="ios",u=s.useMemo(()=>({MenuItemWrapper:C?null:Oe,onOpenChange:c}),[c]),x=a.jsx(oe.Provider,{value:u,children:r}),m=a.jsx(je,{"aria-haspopup":"menu",tabIndex:n?void 0:0,asChild:!0,children:o});return C?a.jsxs(a.Fragment,{children:[a.jsx(b,{onOpenChange:c,children:m}),a.jsx(g.Root,{open:d,onOpenChange:c,children:a.jsxs(g.Portal,{children:[a.jsx(g.Overlay,{className:Z(ee.bg)}),a.jsx(g.Content,{asChild:!0,children:a.jsx(te,{title:e,children:x})})]})})]}):a.jsxs(b,{onOpenChange:c,children:[m,a.jsx(Ae,{children:a.jsx(Ee,{asChild:!0,children:a.jsx(Q,{title:e,children:x})})})]})};try{P.displayName="ContextMenu",P.__docgenInfo={description:"A menu opened by right-clicking or long-pressing another UI element.",displayName:"ContextMenu",props:{title:{defaultValue:null,description:"The menu title.",name:"title",required:!0,type:{name:"string"}},onOpenChange:{defaultValue:null,description:"Event handler called when the open state of the menu changes.",name:"onOpenChange",required:!1,type:{name:"((open: boolean) => void)"}},trigger:{defaultValue:null,description:`The trigger that can be right-clicked or long-pressed to open the menu.
This must be a component that accepts a ref and spreads props.
https://www.radix-ui.com/primitives/docs/guides/composition`,name:"trigger",required:!0,type:{name:"ReactNode"}},hasAccessibleAlternative:{defaultValue:null,description:`Whether the functionality of this menu is available through some other
keyboard-accessible means. Preferably this should be true, because context
menus are potentially difficult to discover, but if false the trigger will
become focusable so that it can be opened via keyboard navigation.`,name:"hasAccessibleAlternative",required:!0,type:{name:"boolean"}},children:{defaultValue:null,description:"The menu contents.",name:"children",required:!0,type:{name:"ReactNode"}}}}}catch{}export{P as C};
