import{r as a,V as bt}from"./iframe-b3J6pLRR.js";import{i as _t,c as le,u as $t,d as ee,g as Wt,e as De,h as pt,j as jt,k as Ne,l as Bt,m as gt}from"./floating-ui.react-dom-Bollzf68.js";import{j as X}from"./jsx-runtime-D_zvdyIk.js";import{r as Vt}from"./index-PwG7f-gv.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Kt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Se=Kt.join(","),ht=typeof Element>"u",Re=ht?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Me=!ht&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Ae=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=o===""||o==="true",i=s||n&&t&&e(t.parentNode);return i},qt=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Rt=function(t,n,r){if(Ae(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Se));return n&&Re.call(t,Se)&&o.unshift(t),o=o.filter(r),o},Et=function e(t,n,r){for(var o=[],s=Array.from(t);s.length;){var i=s.shift();if(!Ae(i,!1))if(i.tagName==="SLOT"){var u=i.assignedElements(),f=u.length?u:i.children,c=e(f,!0,r);r.flatten?o.push.apply(o,c):o.push({scopeParent:i,candidates:c})}else{var g=Re.call(i,Se);g&&r.filter(i)&&(n||!t.includes(i))&&o.push(i);var R=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),x=!Ae(R,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(R&&x){var l=e(R===!0?i.children:R.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:i,candidates:l})}else s.unshift.apply(s,i.children)}}return o},yt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},xt=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||qt(t))&&!yt(t)?0:t.tabIndex},Ht=function(t,n){var r=xt(t);return r<0&&n&&!yt(t)?0:r},Gt=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},wt=function(t){return t.tagName==="INPUT"},Yt=function(t){return wt(t)&&t.type==="hidden"},Ut=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Xt=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Zt=function(t){if(!t.name)return!0;var n=t.form||Me(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=Xt(o,t.form);return!s||s===t},zt=function(t){return wt(t)&&t.type==="radio"},Jt=function(t){return zt(t)&&!Zt(t)},Qt=function(t){var n,r=t&&Me(t),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var i,u,f;for(s=!!((i=o)!==null&&i!==void 0&&(u=i.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(f=t.ownerDocument)!==null&&f!==void 0&&f.contains(t));!s&&o;){var c,g,R;r=Me(o),o=(c=r)===null||c===void 0?void 0:c.host,s=!!((g=o)!==null&&g!==void 0&&(R=g.ownerDocument)!==null&&R!==void 0&&R.contains(o))}}return s},ze=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},en=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=Re.call(t,"details>summary:first-of-type"),i=s?t.parentElement:t;if(Re.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var f=t.parentElement,c=Me(t);if(f&&!f.shadowRoot&&o(f)===!0)return ze(t);t.assignedSlot?t=t.assignedSlot:!f&&c!==t.ownerDocument?t=c.host:t=f}t=u}if(Qt(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ze(t);return!1},tn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Re.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Ke=function(t,n){return!(n.disabled||Ae(n)||Yt(n)||en(n,t)||Ut(n)||tn(n))},qe=function(t,n){return!(Jt(n)||xt(n)<0||!Ke(t,n))},nn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},rn=function e(t){var n=[],r=[];return t.forEach(function(o,s){var i=!!o.scopeParent,u=i?o.scopeParent:o,f=Ht(u,i),c=i?e(o.candidates):u;f===0?i?n.push.apply(n,c):n.push(u):r.push({documentOrder:s,tabIndex:f,item:o,isScope:i,content:c})}),r.sort(Gt).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},Fe=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Et([t],n.includeContainer,{filter:qe.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:nn}):r=Rt(t,n.includeContainer,qe.bind(null,n)),rn(r)},on=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Et([t],n.includeContainer,{filter:Ke.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Rt(t,n.includeContainer,Ke.bind(null,n)),r},Tt=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Re.call(t,Se)===!1?!1:qe(n,t)};function Ct(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function It(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function St(){return/apple/i.test(navigator.vendor)}function He(){const e=/android/i;return e.test(Ct())||e.test(It())}function sn(){return Ct().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Mt(){return It().includes("jsdom/")}const Je="data-floating-ui-focusable",un="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function fe(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function J(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&_t(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ue(e){return"composedPath"in e?e.composedPath()[0]:e.target}function _e(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function an(e){return e.matches("html,body")}function Q(e){return e?.ownerDocument||document}function At(e){return le(e)&&e.matches(un)}function Qe(e){return e?e.getAttribute("role")==="combobox"&&At(e):!1}function cn(e){if(!e||Mt())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function Ge(e){return e?e.hasAttribute(Je)?e:e.querySelector("["+Je+"]")||e:null}function ge(e,t,n){return n===void 0&&(n=!0),e.filter(o=>{var s;return o.parentId===t&&(!n||((s=o.context)==null?void 0:s.open))}).flatMap(o=>[o,...ge(e,o.id,n)])}function et(e,t){var n;let r=[],o=(n=e.find(s=>s.id===t))==null?void 0:n.parentId;for(;o;){const s=e.find(i=>i.id===o);o=s?.parentId,s&&(r=r.concat(s))}return r}function $e(e){e.preventDefault(),e.stopPropagation()}function ln(e){return"nativeEvent"in e}function fn(e){return e.mozInputSource===0&&e.isTrusted?!0:He()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function dn(e){return Mt()?!1:!He()&&e.width===0&&e.height===0||He()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Ye(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}var vn=typeof document<"u",mn=function(){},q=vn?a.useLayoutEffect:mn;const bn={...bt};function me(e){const t=a.useRef(e);return q(()=>{t.current=e}),t}const pn=bn.useInsertionEffect,gn=pn||(e=>e());function te(e){const t=a.useRef(()=>{});return gn(()=>{t.current=e}),a.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const ye=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Pt(e,t){const n=Fe(e,ye()),r=n.length;if(r===0)return;const o=fe(Q(e)),s=n.indexOf(o),i=s===-1?t===1?0:r-1:s+t;return n[i]}function Ft(e){return Pt(Q(e).body,1)||e}function Lt(e){return Pt(Q(e).body,-1)||e}function Ee(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!J(n,r)}function hn(e){Fe(e,ye()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function tt(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function Hn(e){const t=a.useRef(void 0),n=a.useCallback(r=>{const o=e.map(s=>{if(s!=null){if(typeof s=="function"){const i=s,u=i(r);return typeof u=="function"?u:()=>{i(null)}}return s.current=r,()=>{s.current=null}}});return()=>{o.forEach(s=>s?.())}},e);return a.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}const Rn="data-floating-ui-focusable",nt="active",rt="selected",En={...bt};let ot=!1,yn=0;const st=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yn++;function xn(){const[e,t]=a.useState(()=>ot?st():void 0);return q(()=>{e==null&&t(st())},[]),a.useEffect(()=>{ot=!0},[]),e}const wn=En.useId,Le=wn||xn,Gn=a.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:o},middlewareData:{arrow:s,shift:i}},width:u=14,height:f=7,tipRadius:c=0,strokeWidth:g=0,staticOffset:R,stroke:x,d:l,style:{transform:p,...m}={},...w}=t,C=Le(),[b,E]=a.useState(!1);if(q(()=>{if(!o)return;pt(o).direction==="rtl"&&E(!0)},[o]),!o)return null;const[A,j]=r.split("-"),V=A==="top"||A==="bottom";let O=R;(V&&i!=null&&i.x||!V&&i!=null&&i.y)&&(O=null);const H=g*2,K=H/2,Z=u/2*(c/-8+1),D=f/2*c/4,B=!!l,G=O&&j==="end"?"bottom":"top";let L=O&&j==="end"?"right":"left";O&&b&&(L=j==="end"?"left":"right");const d=s?.x!=null?O||s.x:"",_=s?.y!=null?O||s.y:"",T=l||"M0,0"+(" H"+u)+(" L"+(u-Z)+","+(f-D))+(" Q"+u/2+","+f+" "+Z+","+(f-D))+" Z",y={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[A];return X.jsxs("svg",{...w,"aria-hidden":!0,ref:n,width:B?u:u+H,height:u,viewBox:"0 0 "+u+" "+(f>u?f:u),style:{position:"absolute",pointerEvents:"none",[L]:d,[G]:_,[A]:V||B?"100%":"calc(100% - "+H/2+"px)",transform:[y,p].filter(h=>!!h).join(" "),...m},children:[H>0&&X.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:x,strokeWidth:H+(l?0:1),d:T}),X.jsx("path",{stroke:H&&!l?w.fill:"none",d:T}),X.jsx("clipPath",{id:C,children:X.jsx("rect",{x:-K,y:K*(B?-1:1),width:u+H,height:u})})]})});function Tn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const Cn=a.createContext(null),In=a.createContext(null),Xe=()=>{var e;return((e=a.useContext(Cn))==null?void 0:e.id)||null},ke=()=>a.useContext(In);function be(e){return"data-floating-ui-"+e}function ne(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const it=be("safe-polygon");function Ie(e,t,n){if(n&&!Ye(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r?.[t]}return e?.[t]}function We(e){return typeof e=="function"?e():e}function Yn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:s,elements:i}=e,{enabled:u=!0,delay:f=0,handleClose:c=null,mouseOnly:g=!1,restMs:R=0,move:x=!0}=t,l=ke(),p=Xe(),m=me(c),w=me(f),C=me(n),b=me(R),E=a.useRef(),A=a.useRef(-1),j=a.useRef(),V=a.useRef(-1),O=a.useRef(!0),H=a.useRef(!1),K=a.useRef(()=>{}),Z=a.useRef(!1),D=te(()=>{var T;const y=(T=o.current.openEvent)==null?void 0:T.type;return y?.includes("mouse")&&y!=="mousedown"});a.useEffect(()=>{if(!u)return;function T(y){let{open:h}=y;h||(ne(A),ne(V),O.current=!0,Z.current=!1)}return s.on("openchange",T),()=>{s.off("openchange",T)}},[u,s]),a.useEffect(()=>{if(!u||!m.current||!n)return;function T(h){D()&&r(!1,h,"hover")}const y=Q(i.floating).documentElement;return y.addEventListener("mouseleave",T),()=>{y.removeEventListener("mouseleave",T)}},[i.floating,n,r,u,m,D]);const B=a.useCallback(function(T,y,h){y===void 0&&(y=!0),h===void 0&&(h="hover");const P=Ie(w.current,"close",E.current);P&&!j.current?(ne(A),A.current=window.setTimeout(()=>r(!1,T,h),P)):y&&(ne(A),r(!1,T,h))},[w,r]),G=te(()=>{K.current(),j.current=void 0}),L=te(()=>{if(H.current){const T=Q(i.floating).body;T.style.pointerEvents="",T.removeAttribute(it),H.current=!1}}),d=te(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);a.useEffect(()=>{if(!u)return;function T(v){if(ne(A),O.current=!1,g&&!Ye(E.current)||We(b.current)>0&&!Ie(w.current,"open"))return;const k=Ie(w.current,"open",E.current);k?A.current=window.setTimeout(()=>{C.current||r(!0,v,"hover")},k):n||r(!0,v,"hover")}function y(v){if(d()){L();return}K.current();const k=Q(i.floating);if(ne(V),Z.current=!1,m.current&&o.current.floatingContext){n||ne(A),j.current=m.current({...o.current.floatingContext,tree:l,x:v.clientX,y:v.clientY,onClose(){L(),G(),d()||B(v,!0,"safe-polygon")}});const ae=j.current;k.addEventListener("mousemove",ae),K.current=()=>{k.removeEventListener("mousemove",ae)};return}(E.current==="touch"?!J(i.floating,v.relatedTarget):!0)&&B(v)}function h(v){d()||o.current.floatingContext&&(m.current==null||m.current({...o.current.floatingContext,tree:l,x:v.clientX,y:v.clientY,onClose(){L(),G(),d()||B(v)}})(v))}function P(){ne(A)}function N(v){d()||B(v,!1)}if(ee(i.domReference)){const v=i.domReference,k=i.floating;return n&&v.addEventListener("mouseleave",h),x&&v.addEventListener("mousemove",T,{once:!0}),v.addEventListener("mouseenter",T),v.addEventListener("mouseleave",y),k&&(k.addEventListener("mouseleave",h),k.addEventListener("mouseenter",P),k.addEventListener("mouseleave",N)),()=>{n&&v.removeEventListener("mouseleave",h),x&&v.removeEventListener("mousemove",T),v.removeEventListener("mouseenter",T),v.removeEventListener("mouseleave",y),k&&(k.removeEventListener("mouseleave",h),k.removeEventListener("mouseenter",P),k.removeEventListener("mouseleave",N))}}},[i,u,e,g,x,B,G,L,r,n,C,l,w,m,o,d,b]),q(()=>{var T;if(u&&n&&(T=m.current)!=null&&(T=T.__options)!=null&&T.blockPointerEvents&&D()){H.current=!0;const h=i.floating;if(ee(i.domReference)&&h){var y;const P=Q(i.floating).body;P.setAttribute(it,"");const N=i.domReference,v=l==null||(y=l.nodesRef.current.find(k=>k.id===p))==null||(y=y.context)==null?void 0:y.elements.floating;return v&&(v.style.pointerEvents=""),P.style.pointerEvents="none",N.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{P.style.pointerEvents="",N.style.pointerEvents="",h.style.pointerEvents=""}}}},[u,n,p,i,l,m,D]),q(()=>{n||(E.current=void 0,Z.current=!1,G(),L())},[n,G,L]),a.useEffect(()=>()=>{G(),ne(A),ne(V),L()},[u,i.domReference,G,L]);const _=a.useMemo(()=>{function T(y){E.current=y.pointerType}return{onPointerDown:T,onPointerEnter:T,onMouseMove(y){const{nativeEvent:h}=y;function P(){!O.current&&!C.current&&r(!0,h,"hover")}g&&!Ye(E.current)||n||We(b.current)===0||Z.current&&y.movementX**2+y.movementY**2<2||(ne(V),E.current==="touch"?P():(Z.current=!0,V.current=window.setTimeout(P,We(b.current))))}}},[g,r,n,C,b]);return a.useMemo(()=>u?{reference:_}:{},[u,_])}const Ue=()=>{},kt=a.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Ue,setState:Ue,isInstantPhase:!1}),Sn=()=>a.useContext(kt);function Un(e){const{children:t,delay:n,timeoutMs:r=0}=e,[o,s]=a.useReducer((f,c)=>({...f,...c}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),i=a.useRef(null),u=a.useCallback(f=>{s({currentId:f})},[]);return q(()=>{o.currentId?i.current===null?i.current=o.currentId:o.isInstantPhase||s({isInstantPhase:!0}):(o.isInstantPhase&&s({isInstantPhase:!1}),i.current=null)},[o.currentId,o.isInstantPhase]),X.jsx(kt.Provider,{value:a.useMemo(()=>({...o,setState:s,setCurrentId:u}),[o,u]),children:t})}function Xn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:o}=e,{id:s,enabled:i=!0}=t,u=s??o,f=Sn(),{currentId:c,setCurrentId:g,initialDelay:R,setState:x,timeoutMs:l}=f;return q(()=>{i&&c&&(x({delay:{open:1,close:Ie(R,"close")}}),c!==u&&r(!1))},[i,u,r,x,c,R]),q(()=>{function p(){r(!1),x({delay:R,currentId:null})}if(i&&c&&!n&&c===u){if(l){const m=window.setTimeout(p,l);return()=>{clearTimeout(m)}}p()}},[i,n,x,c,u,r,R,l]),q(()=>{i&&(g===Ue||!n||g(u))},[i,n,g,u]),f}let ut=0;function pe(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(ut);const s=()=>e?.focus({preventScroll:n});o?s():ut=requestAnimationFrame(s)}function Mn(e){return e?.ownerDocument||document}const he={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function at(e){return e==="inert"?he.inert:e==="aria-hidden"?he["aria-hidden"]:he.none}let Te=new WeakSet,Ce={},je=0;const An=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Ot=e=>e&&(e.host||Ot(e.parentNode)),Pn=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Ot(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Fn(e,t,n,r){const o="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,i=Pn(t,e),u=new Set,f=new Set(i),c=[];Ce[o]||(Ce[o]=new WeakMap);const g=Ce[o];i.forEach(R),x(t),u.clear();function R(l){!l||u.has(l)||(u.add(l),l.parentNode&&R(l.parentNode))}function x(l){!l||f.has(l)||[].forEach.call(l.children,p=>{if(gt(p)!=="script")if(u.has(p))x(p);else{const m=s?p.getAttribute(s):null,w=m!==null&&m!=="false",C=at(s),b=(C.get(p)||0)+1,E=(g.get(p)||0)+1;C.set(p,b),g.set(p,E),c.push(p),b===1&&w&&Te.add(p),E===1&&p.setAttribute(o,""),!w&&s&&p.setAttribute(s,s==="inert"?"":"true")}})}return je++,()=>{c.forEach(l=>{const p=at(s),w=(p.get(l)||0)-1,C=(g.get(l)||0)-1;p.set(l,w),g.set(l,C),w||(!Te.has(l)&&s&&l.removeAttribute(s),Te.delete(l)),C||l.removeAttribute(o)}),je--,je||(he.inert=new WeakMap,he["aria-hidden"]=new WeakMap,he.none=new WeakMap,Te=new WeakSet,Ce={})}}function ct(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=Mn(e[0]).body;return Fn(e.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,t,n)}const Oe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Pe=a.forwardRef(function(t,n){const[r,o]=a.useState();q(()=>{St()&&o("button")},[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[be("focus-guard")]:"",style:Oe};return X.jsx("span",{...t,...s})}),Dt=a.createContext(null),lt=be("portal");function Ln(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Le(),o=Nt(),[s,i]=a.useState(null),u=a.useRef(null);return q(()=>()=>{s?.remove(),queueMicrotask(()=>{u.current=null})},[s]),q(()=>{if(!r||u.current)return;const f=t?document.getElementById(t):null;if(!f)return;const c=document.createElement("div");c.id=r,c.setAttribute(lt,""),f.appendChild(c),u.current=c,i(c)},[t,r]),q(()=>{if(n===null||!r||u.current)return;let f=n||o?.portalNode;f&&!ee(f)&&(f=f.current),f=f||document.body;let c=null;t&&(c=document.createElement("div"),c.id=t,f.appendChild(c));const g=document.createElement("div");g.id=r,g.setAttribute(lt,""),f=c||f,f.appendChild(g),u.current=g,i(g)},[t,n,r,o]),s}function Zn(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,s=Ln({id:n,root:r}),[i,u]=a.useState(null),f=a.useRef(null),c=a.useRef(null),g=a.useRef(null),R=a.useRef(null),x=i?.modal,l=i?.open,p=!!i&&!i.modal&&i.open&&o&&!!(r||s);return a.useEffect(()=>{if(!s||!o||x)return;function m(w){s&&Ee(w)&&(w.type==="focusin"?tt:hn)(s)}return s.addEventListener("focusin",m,!0),s.addEventListener("focusout",m,!0),()=>{s.removeEventListener("focusin",m,!0),s.removeEventListener("focusout",m,!0)}},[s,o,x]),a.useEffect(()=>{s&&(l||tt(s))},[l,s]),X.jsxs(Dt.Provider,{value:a.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:c,beforeInsideRef:g,afterInsideRef:R,portalNode:s,setFocusManagerState:u}),[o,s]),children:[p&&s&&X.jsx(Pe,{"data-type":"outside",ref:f,onFocus:m=>{if(Ee(m,s)){var w;(w=g.current)==null||w.focus()}else{const C=i?i.domReference:null,b=Lt(C);b?.focus()}}}),p&&s&&X.jsx("span",{"aria-owns":s.id,style:Oe}),s&&Vt.createPortal(t,s),p&&s&&X.jsx(Pe,{"data-type":"outside",ref:c,onFocus:m=>{if(Ee(m,s)){var w;(w=R.current)==null||w.focus()}else{const C=i?i.domReference:null,b=Ft(C);b?.focus(),i?.closeOnFocusOut&&i?.onOpenChange(!1,m.nativeEvent,"focus-out")}}})]})}const Nt=()=>a.useContext(Dt);function ft(e){return a.useMemo(()=>t=>{e.forEach(n=>{n&&(n.current=t)})},e)}const kn=20;let ve=[];function On(e){ve=ve.filter(t=>t.isConnected),e&&gt(e)!=="body"&&(ve.push(e),ve.length>kn&&(ve=ve.slice(-20)))}function dt(){return ve.slice().reverse().find(e=>e.isConnected)}function Dn(e){const t=ye();return Tt(e,t)?e:Fe(e,t)[0]||e}function vt(e,t){var n;if(!t.current.includes("floating")&&!((n=e.getAttribute("role"))!=null&&n.includes("dialog")))return;const r=ye(),s=on(e,r).filter(u=>{const f=u.getAttribute("data-tabindex")||"";return Tt(u,r)||u.hasAttribute("data-tabindex")&&!f.startsWith("-")}),i=e.getAttribute("tabindex");t.current.includes("floating")||s.length===0?i!=="0"&&e.setAttribute("tabindex","0"):(i!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const Nn=a.forwardRef(function(t,n){return X.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:Oe})});function zn(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:s=!0,initialFocus:i=0,returnFocus:u=!0,restoreFocus:f=!1,modal:c=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:R=!0,outsideElementsInert:x=!1,getInsideElements:l=()=>[]}=e,{open:p,onOpenChange:m,events:w,dataRef:C,elements:{domReference:b,floating:E}}=t,A=te(()=>{var I;return(I=C.current.floatingContext)==null?void 0:I.nodeId}),j=te(l),V=typeof i=="number"&&i<0,O=Qe(b)&&V,H=An(),K=H?s:!0,Z=!K||H&&x,D=me(o),B=me(i),G=me(u),L=ke(),d=Nt(),_=a.useRef(null),T=a.useRef(null),y=a.useRef(!1),h=a.useRef(!1),P=a.useRef(-1),N=d!=null,v=Ge(E),k=te(function(I){return I===void 0&&(I=v),I?Fe(I,ye()):[]}),se=te(I=>{const F=k(I);return D.current.map(S=>b&&S==="reference"?b:v&&S==="floating"?v:F).filter(Boolean).flat()});a.useEffect(()=>{if(r||!c)return;function I(S){if(S.key==="Tab"){J(v,fe(Q(v)))&&k().length===0&&!O&&$e(S);const M=se(),Y=ue(S);D.current[0]==="reference"&&Y===b&&($e(S),S.shiftKey?pe(M[M.length-1]):pe(M[1])),D.current[1]==="floating"&&Y===v&&S.shiftKey&&($e(S),pe(M[0]))}}const F=Q(v);return F.addEventListener("keydown",I),()=>{F.removeEventListener("keydown",I)}},[r,b,v,c,D,O,k,se]),a.useEffect(()=>{if(r||!E)return;function I(F){const S=ue(F),Y=k().indexOf(S);Y!==-1&&(P.current=Y)}return E.addEventListener("focusin",I),()=>{E.removeEventListener("focusin",I)}},[r,E,k]),a.useEffect(()=>{if(r||!R)return;function I(){h.current=!0,setTimeout(()=>{h.current=!1})}function F(S){const M=S.relatedTarget,Y=S.currentTarget,U=ue(S);queueMicrotask(()=>{const oe=A(),ie=!(J(b,M)||J(E,M)||J(M,E)||J(d?.portalNode,M)||M!=null&&M.hasAttribute(be("focus-guard"))||L&&(ge(L.nodesRef.current,oe).find($=>{var W,ce;return J((W=$.context)==null?void 0:W.elements.floating,M)||J((ce=$.context)==null?void 0:ce.elements.domReference,M)})||et(L.nodesRef.current,oe).find($=>{var W,ce,Ze;return[(W=$.context)==null?void 0:W.elements.floating,Ge((ce=$.context)==null?void 0:ce.elements.floating)].includes(M)||((Ze=$.context)==null?void 0:Ze.elements.domReference)===M})));if(Y===b&&v&&vt(v,D),f&&Y!==b&&!(U!=null&&U.isConnected)&&fe(Q(v))===Q(v).body){le(v)&&v.focus();const $=P.current,W=k(),ce=W[$]||W[W.length-1]||v;le(ce)&&ce.focus()}if(C.current.insideReactTree){C.current.insideReactTree=!1;return}(O||!c)&&M&&ie&&!h.current&&M!==dt()&&(y.current=!0,m(!1,S,"focus-out"))})}if(E&&le(b))return b.addEventListener("focusout",F),b.addEventListener("pointerdown",I),E.addEventListener("focusout",F),()=>{b.removeEventListener("focusout",F),b.removeEventListener("pointerdown",I),E.removeEventListener("focusout",F)}},[r,b,E,v,c,L,d,m,R,f,k,O,A,D,C]);const ae=a.useRef(null),z=a.useRef(null),re=ft([ae,d?.beforeInsideRef]),de=ft([z,d?.afterInsideRef]);a.useEffect(()=>{var I,F;if(r||!E)return;const S=Array.from((d==null||(I=d.portalNode)==null?void 0:I.querySelectorAll("["+be("portal")+"]"))||[]),M=L?et(L.nodesRef.current,A()):[],Y=L&&!c?M.map($=>{var W;return(W=$.context)==null?void 0:W.elements.floating}):[],U=(F=M.find($=>{var W;return Qe(((W=$.context)==null?void 0:W.elements.domReference)||null)}))==null||(F=F.context)==null?void 0:F.elements.domReference,oe=[E,U,...S,...Y,...j(),_.current,T.current,ae.current,z.current,d?.beforeOutsideRef.current,d?.afterOutsideRef.current,D.current.includes("reference")||O?b:null].filter($=>$!=null),ie=c||O?ct(oe,!Z,Z):ct(oe);return()=>{ie()}},[r,b,E,c,D,d,O,K,Z,L,A,j]),q(()=>{if(r||!le(v))return;const I=Q(v),F=fe(I);queueMicrotask(()=>{const S=se(v),M=B.current,Y=(typeof M=="number"?S[M]:M.current)||v,U=J(v,F);!V&&!U&&p&&pe(Y,{preventScroll:Y===v})})},[r,p,v,V,se,B]),q(()=>{if(r||!v)return;const I=Q(v),F=fe(I);On(F);function S(U){let{reason:oe,event:ie,nested:$}=U;if(["hover","safe-polygon"].includes(oe)&&ie.type==="mouseleave"&&(y.current=!0),oe==="outside-press")if($)y.current=!1;else if(fn(ie)||dn(ie))y.current=!1;else{let W=!1;document.createElement("div").focus({get preventScroll(){return W=!0,!1}}),W?y.current=!1:y.current=!0}}w.on("openchange",S);const M=I.createElement("span");M.setAttribute("tabindex","-1"),M.setAttribute("aria-hidden","true"),Object.assign(M.style,Oe),N&&b&&b.insertAdjacentElement("afterend",M);function Y(){if(typeof G.current=="boolean"){const U=b||dt();return U&&U.isConnected?U:M}return G.current.current||M}return()=>{w.off("openchange",S);const U=fe(I),oe=J(E,U)||L&&ge(L.nodesRef.current,A(),!1).some($=>{var W;return J((W=$.context)==null?void 0:W.elements.floating,U)}),ie=Y();queueMicrotask(()=>{const $=Dn(ie);G.current&&!y.current&&le($)&&(!($!==U&&U!==I.body)||oe)&&$.focus({preventScroll:!0}),M.remove()})}},[r,E,v,G,C,w,L,N,b,A]),a.useEffect(()=>{queueMicrotask(()=>{y.current=!1})},[r]),q(()=>{if(!r&&d)return d.setFocusManagerState({modal:c,closeOnFocusOut:R,open:p,onOpenChange:m,domReference:b}),()=>{d.setFocusManagerState(null)}},[r,d,c,p,m,R,b]),q(()=>{r||v&&vt(v,D)},[r,v,D]);function xe(I){return r||!g||!c?null:X.jsx(Nn,{ref:I==="start"?_:T,onClick:F=>m(!1,F.nativeEvent),children:typeof g=="string"?g:"Dismiss"})}const we=!r&&K&&(c?!O:!0)&&(N||c);return X.jsxs(X.Fragment,{children:[we&&X.jsx(Pe,{"data-type":"inside",ref:re,onFocus:I=>{if(c){const S=se();pe(o[0]==="reference"?S[0]:S[S.length-1])}else if(d!=null&&d.preserveTabOrder&&d.portalNode)if(y.current=!1,Ee(I,d.portalNode)){const S=Ft(b);S?.focus()}else{var F;(F=d.beforeOutsideRef.current)==null||F.focus()}}}),!O&&xe("start"),n,xe("end"),we&&X.jsx(Pe,{"data-type":"inside",ref:de,onFocus:I=>{if(c)pe(se()[0]);else if(d!=null&&d.preserveTabOrder&&d.portalNode)if(R&&(y.current=!0),Ee(I,d.portalNode)){const S=Lt(b);S?.focus()}else{var F;(F=d.afterOutsideRef.current)==null||F.focus()}}})]})}const _n={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},$n={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},mt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)!=null?n:!0}};function Jn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:s}=e,{enabled:i=!0,escapeKey:u=!0,outsidePress:f=!0,outsidePressEvent:c="pointerdown",referencePress:g=!1,referencePressEvent:R="pointerdown",ancestorScroll:x=!1,bubbles:l,capture:p}=t,m=ke(),w=te(typeof f=="function"?f:()=>!1),C=typeof f=="function"?w:f,b=a.useRef(!1),{escapeKey:E,outsidePress:A}=mt(l),{escapeKey:j,outsidePress:V}=mt(p),O=a.useRef(!1),H=a.useRef(-1),K=te(d=>{var _;if(!n||!i||!u||d.key!=="Escape"||O.current)return;const T=(_=s.current.floatingContext)==null?void 0:_.nodeId,y=m?ge(m.nodesRef.current,T):[];if(!E&&(d.stopPropagation(),y.length>0)){let h=!0;if(y.forEach(P=>{var N;if((N=P.context)!=null&&N.open&&!P.context.dataRef.current.__escapeKeyBubbles){h=!1;return}}),!h)return}r(!1,ln(d)?d.nativeEvent:d,"escape-key")}),Z=te(d=>{var _;const T=()=>{var y;K(d),(y=ue(d))==null||y.removeEventListener("keydown",T)};(_=ue(d))==null||_.addEventListener("keydown",T)}),D=te(d=>{var _;const T=s.current.insideReactTree;s.current.insideReactTree=!1;const y=b.current;if(b.current=!1,c==="click"&&y||T||typeof C=="function"&&!C(d))return;const h=ue(d),P="["+be("inert")+"]",N=Q(o.floating).querySelectorAll(P);let v=ee(h)?h:null;for(;v&&!Ne(v);){const z=Bt(v);if(Ne(z)||!ee(z))break;v=z}if(N.length&&ee(h)&&!an(h)&&!J(h,o.floating)&&Array.from(N).every(z=>!J(v,z)))return;if(le(h)&&L){const z=Ne(h),re=pt(h),de=/auto|scroll/,xe=z||de.test(re.overflowX),we=z||de.test(re.overflowY),I=xe&&h.clientWidth>0&&h.scrollWidth>h.clientWidth,F=we&&h.clientHeight>0&&h.scrollHeight>h.clientHeight,S=re.direction==="rtl",M=F&&(S?d.offsetX<=h.offsetWidth-h.clientWidth:d.offsetX>h.clientWidth),Y=I&&d.offsetY>h.clientHeight;if(M||Y)return}const k=(_=s.current.floatingContext)==null?void 0:_.nodeId,se=m&&ge(m.nodesRef.current,k).some(z=>{var re;return _e(d,(re=z.context)==null?void 0:re.elements.floating)});if(_e(d,o.floating)||_e(d,o.domReference)||se)return;const ae=m?ge(m.nodesRef.current,k):[];if(ae.length>0){let z=!0;if(ae.forEach(re=>{var de;if((de=re.context)!=null&&de.open&&!re.context.dataRef.current.__outsidePressBubbles){z=!1;return}}),!z)return}r(!1,d,"outside-press")}),B=te(d=>{var _;const T=()=>{var y;D(d),(y=ue(d))==null||y.removeEventListener(c,T)};(_=ue(d))==null||_.addEventListener(c,T)});a.useEffect(()=>{if(!n||!i)return;s.current.__escapeKeyBubbles=E,s.current.__outsidePressBubbles=A;let d=-1;function _(N){r(!1,N,"ancestor-scroll")}function T(){window.clearTimeout(d),O.current=!0}function y(){d=window.setTimeout(()=>{O.current=!1},jt()?5:0)}const h=Q(o.floating);u&&(h.addEventListener("keydown",j?Z:K,j),h.addEventListener("compositionstart",T),h.addEventListener("compositionend",y)),C&&h.addEventListener(c,V?B:D,V);let P=[];return x&&(ee(o.domReference)&&(P=De(o.domReference)),ee(o.floating)&&(P=P.concat(De(o.floating))),!ee(o.reference)&&o.reference&&o.reference.contextElement&&(P=P.concat(De(o.reference.contextElement)))),P=P.filter(N=>{var v;return N!==((v=h.defaultView)==null?void 0:v.visualViewport)}),P.forEach(N=>{N.addEventListener("scroll",_,{passive:!0})}),()=>{u&&(h.removeEventListener("keydown",j?Z:K,j),h.removeEventListener("compositionstart",T),h.removeEventListener("compositionend",y)),C&&h.removeEventListener(c,V?B:D,V),P.forEach(N=>{N.removeEventListener("scroll",_)}),window.clearTimeout(d)}},[s,o,u,C,c,n,r,x,i,E,A,K,j,Z,D,V,B]),a.useEffect(()=>{s.current.insideReactTree=!1},[s,C,c]);const G=a.useMemo(()=>({onKeyDown:K,...g&&{[_n[R]]:d=>{r(!1,d.nativeEvent,"reference-press")},...R!=="click"&&{onClick(d){r(!1,d.nativeEvent,"reference-press")}}}}),[K,r,g,R]),L=a.useMemo(()=>({onKeyDown:K,onMouseDown(){b.current=!0},onMouseUp(){b.current=!0},[$n[c]]:()=>{s.current.insideReactTree=!0},onBlurCapture(){m||(ne(H),s.current.insideReactTree=!0,H.current=window.setTimeout(()=>{s.current.insideReactTree=!1}))}}),[K,c,s,m]);return a.useMemo(()=>i?{reference:G,floating:L}:{},[i,G,L])}function Wn(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Le(),s=a.useRef({}),[i]=a.useState(()=>Tn()),u=Xe()!=null,[f,c]=a.useState(r.reference),g=te((l,p,m)=>{s.current.openEvent=l?p:void 0,i.emit("openchange",{open:l,event:p,reason:m,nested:u}),n?.(l,p,m)}),R=a.useMemo(()=>({setPositionReference:c}),[]),x=a.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return a.useMemo(()=>({dataRef:s,open:t,onOpenChange:g,elements:x,events:i,floatingId:o,refs:R}),[t,g,x,i,o,R])}function Qn(e){e===void 0&&(e={});const{nodeId:t}=e,n=Wn({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[s,i]=a.useState(null),[u,f]=a.useState(null),g=o?.domReference||s,R=a.useRef(null),x=ke();q(()=>{g&&(R.current=g)},[g]);const l=$t({...e,elements:{...o,...u&&{reference:u}}}),p=a.useCallback(E=>{const A=ee(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),getClientRects:()=>E.getClientRects(),contextElement:E}:E;f(A),l.refs.setReference(A)},[l.refs]),m=a.useCallback(E=>{(ee(E)||E===null)&&(R.current=E,i(E)),(ee(l.refs.reference.current)||l.refs.reference.current===null||E!==null&&!ee(E))&&l.refs.setReference(E)},[l.refs]),w=a.useMemo(()=>({...l.refs,setReference:m,setPositionReference:p,domReference:R}),[l.refs,m,p]),C=a.useMemo(()=>({...l.elements,domReference:g}),[l.elements,g]),b=a.useMemo(()=>({...l,...r,refs:w,elements:C,nodeId:t}),[l,w,C,t,r]);return q(()=>{r.dataRef.current.floatingContext=b;const E=x?.nodesRef.current.find(A=>A.id===t);E&&(E.context=b)}),a.useMemo(()=>({...l,context:b,refs:w,elements:C}),[l,w,C,b])}function Be(){return sn()&&St()}function er(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:s,elements:i}=e,{enabled:u=!0,visibleOnly:f=!0}=t,c=a.useRef(!1),g=a.useRef(-1),R=a.useRef(!0);a.useEffect(()=>{if(!u)return;const l=Wt(i.domReference);function p(){!n&&le(i.domReference)&&i.domReference===fe(Q(i.domReference))&&(c.current=!0)}function m(){R.current=!0}function w(){R.current=!1}return l.addEventListener("blur",p),Be()&&(l.addEventListener("keydown",m,!0),l.addEventListener("pointerdown",w,!0)),()=>{l.removeEventListener("blur",p),Be()&&(l.removeEventListener("keydown",m,!0),l.removeEventListener("pointerdown",w,!0))}},[i.domReference,n,u]),a.useEffect(()=>{if(!u)return;function l(p){let{reason:m}=p;(m==="reference-press"||m==="escape-key")&&(c.current=!0)}return o.on("openchange",l),()=>{o.off("openchange",l)}},[o,u]),a.useEffect(()=>()=>{ne(g)},[]);const x=a.useMemo(()=>({onMouseLeave(){c.current=!1},onFocus(l){if(c.current)return;const p=ue(l.nativeEvent);if(f&&ee(p)){if(Be()&&!l.relatedTarget){if(!R.current&&!At(p))return}else if(!cn(p))return}r(!0,l.nativeEvent,"focus")},onBlur(l){c.current=!1;const p=l.relatedTarget,m=l.nativeEvent,w=ee(p)&&p.hasAttribute(be("focus-guard"))&&p.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var C;const b=fe(i.domReference?i.domReference.ownerDocument:document);!p&&b===i.domReference||J((C=s.current.floatingContext)==null?void 0:C.refs.floating.current,b)||J(i.domReference,b)||w||r(!1,m,"focus")})}}),[s,i.domReference,r,f]);return a.useMemo(()=>u?{reference:x}:{},[u,x])}function Ve(e,t,n){const r=new Map,o=n==="item";let s=e;if(o&&e){const{[nt]:i,[rt]:u,...f}=e;s=f}return{...n==="floating"&&{tabIndex:-1,[Rn]:""},...s,...t.map(i=>{const u=i?i[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((i,u)=>(u&&Object.entries(u).forEach(f=>{let[c,g]=f;if(!(o&&[nt,rt].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof g=="function"){var R;(R=r.get(c))==null||R.push(g),i[c]=function(){for(var x,l=arguments.length,p=new Array(l),m=0;m<l;m++)p[m]=arguments[m];return(x=r.get(c))==null?void 0:x.map(w=>w(...p)).find(w=>w!==void 0)}}}else i[c]=g}),i),{})}}function tr(e){e===void 0&&(e=[]);const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),r=e.map(u=>u?.item),o=a.useCallback(u=>Ve(u,e,"reference"),t),s=a.useCallback(u=>Ve(u,e,"floating"),n),i=a.useCallback(u=>Ve(u,e,"item"),r);return a.useMemo(()=>({getReferenceProps:o,getFloatingProps:s,getItemProps:i}),[o,s,i])}const jn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function nr(e,t){var n,r;t===void 0&&(t={});const{open:o,elements:s,floatingId:i}=e,{enabled:u=!0,role:f="dialog"}=t,c=Le(),g=((n=s.domReference)==null?void 0:n.id)||c,R=a.useMemo(()=>{var b;return((b=Ge(s.floating))==null?void 0:b.id)||i},[s.floating,i]),x=(r=jn.get(f))!=null?r:f,p=Xe()!=null,m=a.useMemo(()=>x==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:o?R:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":x==="alertdialog"?"dialog":x,"aria-controls":o?R:void 0,...x==="listbox"&&{role:"combobox"},...x==="menu"&&{id:g},...x==="menu"&&p&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[x,R,p,o,g,f]),w=a.useMemo(()=>{const b={id:R,...x&&{role:x}};return x==="tooltip"||f==="label"?b:{...b,...x==="menu"&&{"aria-labelledby":g}}},[x,R,g,f]),C=a.useCallback(b=>{let{active:E,selected:A}=b;const j={role:"option",...E&&{id:R+"-fui-option"}};switch(f){case"select":return{...j,"aria-selected":E&&A};case"combobox":return{...j,"aria-selected":A}}return{}},[R,f]);return a.useMemo(()=>u?{reference:m,floating:w,item:C}:{},[u,m,w,C])}export{Un as F,Qn as a,Xn as b,Yn as c,er as d,Jn as e,nr as f,tr as g,Hn as h,Zn as i,Gn as j,zn as k,Le as u};
