import{j as n}from"./jsx-runtime-f6d73c06.js";import{r as s}from"./index-8ee6c85d.js";import{U as O}from"./user-profile-9aa97790.js";import{S as j,a as E,b as R}from"./leave-e92ccc05.js";import{_ as u,b as N}from"./index-fc9b93e8.js";import{$ as P,b as v,a as x}from"./index-79556c5a.js";import{$ as T}from"./index-67f1f257.js";import{$ as k}from"./index-6e117a6c.js";import{$ as y,a as q,b as A,c as V,d as F,e as B,J as m}from"./index-8c13e49b.js";import{F as K}from"./FloatingMenu-70dfe389.js";import{c as U}from"./index-e131923d.js";import{d as W,D as L,g as G}from"./DrawerMenu-da2be9d5.js";import{a as J,M as h}from"./MenuItem-d5d526f6.js";import{S as z}from"./Separator-f8ae34aa.js";import{B as H}from"./Button-dcdac7b3.js";import"./_commonjsHelpers-de833af9.js";import"./index-8bf7f4ad.js";import"./useId-a94b91a4.js";import"./Text-270962e1.js";import"./Typography-1dd46c86.js";import"./UnstyledButton-60dcee3b.js";const D="DropdownMenu",[Q,Re]=P(D,[y]),$=y(),[X,S]=Q(D),Y=e=>{const{__scopeDropdownMenu:r,children:t,dir:c,open:i,defaultOpen:a,onOpenChange:l,modal:o=!0}=e,d=$(r),f=s.useRef(null),[p=!1,b]=T({prop:i,defaultProp:a,onChange:l});return s.createElement(X,{scope:r,triggerId:v(),triggerRef:f,contentId:v(),open:p,onOpenChange:b,onOpenToggle:s.useCallback(()=>b(C=>!C),[b]),modal:o},s.createElement(q,u({},d,{open:p,onOpenChange:b,dir:c,modal:o}),t))},Z="DropdownMenuTrigger",ee=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,disabled:c=!1,...i}=e,a=S(Z,t),l=$(t);return s.createElement(A,u({asChild:!0},l),s.createElement(k.button,u({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":c?"":void 0,disabled:c},i,{ref:N(r,a.triggerRef),onPointerDown:x(e.onPointerDown,o=>{!c&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:x(e.onKeyDown,o=>{c||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})))}),ne=e=>{const{__scopeDropdownMenu:r,...t}=e,c=$(r);return s.createElement(V,u({},c,t))},te="DropdownMenuContent",oe=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...c}=e,i=S(te,t),a=$(t),l=s.useRef(!1);return s.createElement(F,u({id:i.contentId,"aria-labelledby":i.triggerId},a,c,{ref:r,onCloseAutoFocus:x(e.onCloseAutoFocus,o=>{var d;l.current||(d=i.triggerRef.current)===null||d===void 0||d.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:x(e.onInteractOutside,o=>{const d=o.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),re=s.forwardRef((e,r)=>{const{__scopeDropdownMenu:t,...c}=e,i=$(t);return s.createElement(B,u({},i,c,{ref:r}))}),ae=Y,ce=ee,se=ne,ie=oe,de=({onSelect:e,children:r})=>n.jsx(re,{onSelect:e??void 0,asChild:!0,children:r}),w=({title:e,open:r,onOpenChange:t,trigger:c,children:i,side:a="bottom",align:l="center"})=>{const o=G(),d=o==="android"||o==="ios",f=s.useMemo(()=>({MenuItemWrapper:d?null:de,onOpenChange:t}),[t]),p=n.jsx(J.Provider,{value:f,children:i});return d?n.jsxs(m.Root,{open:r,onOpenChange:t,children:[n.jsx(m.Trigger,{asChild:!0,children:c}),n.jsxs(m.Portal,{children:[n.jsx(m.Overlay,{className:U(W.bg)}),n.jsx(m.Content,{asChild:!0,children:n.jsx(L,{title:e,children:p})})]})]}):n.jsxs(ae,{open:r,onOpenChange:t,children:[n.jsx(ce,{asChild:!0,children:c}),n.jsx(se,{children:n.jsx(ie,{asChild:!0,side:a,align:l,sideOffset:8,children:n.jsx(K,{title:e,children:p})})})]})};try{w.displayName="Menu",w.__docgenInfo={description:"A menu opened by pressing a button.",displayName:"Menu",props:{title:{defaultValue:null,description:"The menu title.",name:"title",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"Whether the menu is open.",name:"open",required:!0,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:`Event handler called when the open state of the menu changes. This includes
anything like clicking the trigger, selecting a menu item, or dismissing
the menu with the mouse or keyboard.`,name:"onOpenChange",required:!0,type:{name:"(open: boolean) => void"}},trigger:{defaultValue:null,description:`The button that opens the menu. This must be a component that accepts a ref
and spreads props.
https://www.radix-ui.com/primitives/docs/guides/composition`,name:"trigger",required:!0,type:{name:"ReactNode"}},children:{defaultValue:null,description:"The menu contents.",name:"children",required:!0,type:{name:"ReactNode"}},side:{defaultValue:{value:"bottom"},description:`The side of the trigger on which to place the menu. Note that the menu may
still end up on a different side than the one you request if there isn't
enough space.`,name:"side",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},align:{defaultValue:{value:"center"},description:"The edge along which the menu and trigger will be aligned.",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"start"'},{value:'"end"'}]}}}}}catch{}const Ne={title:"Menu",component:w,tags:["autodocs"],argTypes:{},args:{}},le=e=>{const[r,t]=s.useState(!0);return n.jsxs(w,{...e,title:"Settings",open:r,onOpenChange:t,trigger:n.jsx(H,{children:"Open menu"}),align:"start",children:[n.jsx(h,{Icon:O,label:"Profile",onSelect:()=>{}}),n.jsx(h,{Icon:j,label:"Notifications",onSelect:()=>{}}),n.jsx(h,{Icon:E,label:"Feedback",onSelect:()=>{}}),n.jsx(z,{}),n.jsx(h,{kind:"critical",Icon:R,label:"Sign out",onSelect:()=>{}})]})},g=le.bind({});g.args={};var M,_,I;g.parameters={...g.parameters,docs:{...(M=g.parameters)==null?void 0:M.docs,source:{originalSource:`args => {
  const [open, setOpen] = useState(true);
  return <MenuComponent {...args} title="Settings" open={open} onOpenChange={setOpen} trigger={<Button>Open menu</Button>} align="start">
      <MenuItem Icon={UserProfileIcon} label="Profile" onSelect={() => {}} />
      <MenuItem Icon={NotificationsIcon} label="Notifications" onSelect={() => {}} />
      <MenuItem Icon={ChatProblemIcon} label="Feedback" onSelect={() => {}} />
      <Separator />
      <MenuItem kind="critical" Icon={LeaveIcon} label="Sign out" onSelect={() => {}} />
    </MenuComponent>;
}`,...(I=(_=g.parameters)==null?void 0:_.docs)==null?void 0:I.source}}};const Pe=["Menu"];export{g as Menu,Pe as __namedExportsOrder,Ne as default};
//# sourceMappingURL=Menu.stories-586586ef.js.map
